<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_md__docs_2_text_editor_2changelog" xml:lang="en-US">
<title>
<para>Change Log </para>
</title>
<indexterm><primary>Change Log</primary></indexterm>

<para><anchor xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md134"/></para>

<para>All notable changes to the <computeroutput><link linkend="_namespace_luthetus_1_1_text_editor">Luthetus.TextEditor</link></computeroutput> repository will be documented in this file.</para>

<para>The format is based on <link xlink:href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</link>, and this project adheres to <link xlink:href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</link>.</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md135">
<title>[3.2.0] - 2024-10-07</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md136">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>ContextMenu goto definition, scroll cursor into view</para>
</listitem><listitem>
<para>After context menu picked SetCursorShouldBlink(false)</para>
</listitem><listitem>
<para>C# Parser had Many Changes. Goto definition, respect the original cursor&apos;s syntax node kind. &apos;record struct&apos; storage modifier kind. TypeClauseNode with &apos;?&apos;. Ambiguous property definition. Constructor invocation within an expression. Record struct primary constructor. <link linkend="__explicit_cast_node_8cs">ExplicitCastNode.cs</link> &apos;Ex: (<link linkend="_class_my_class">MyClass</link>)someObject&apos;. Verbatim string progress. Constructor &apos;: this(...) or base(...)&apos;. &apos;params&apos; keyword. Constructor where clause (progress). For statement progress. Foreach statement progress. Lock statement progress. While statement progress. Do-while statement progress. Switch statement progress. Try-catch-finally statement progress. Breadth first parsing progress (Parse all the definitions in a given scope prior to parsing an inner scope where appropriate i.e.: class definitions)</para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md137">
<title>[3.1.0] - 2024-10-03</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md138">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>Fix null reference exception (is a fatal exception) from v3.0.0 </para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md139">
<title>[3.0.0] - 2024-10-03</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md140">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>Horizontally virtualize on a line by line basis, and only if the individual line is long.<itemizedlist>
<listitem>
<para>Virtualization result is an array of lines (was a list)</para>
</listitem><listitem>
<para>Change: SetModelAndViewModelRangeAction to a struct</para>
</listitem><listitem>
<para>Change: TextEditorTextSpan to record-struct</para>
</listitem><listitem>
<para><link linkend="__text_editor_state_8_main_8cs">TextEditorState.Main.cs</link> uses private-mutable dictionaries to store text editor models/viewmodels (They used to be ImmutableList(s)).</para>
</listitem></itemizedlist>
</para>
</listitem><listitem>
<para>Add: <link linkend="__i_text_editor_dependent_component_8cs">ITextEditorDependentComponent.cs</link> (&quot;low priority&quot; rendering of accessory components to the text editor). Render header throttled at 1 second. Render footer throttled at 250 milliseconds. </para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md141">
<title>[2.7.0] - 2024-09-21</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md142">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>User Agent resize events trigger remeasure</para>
</listitem><listitem>
<para>Changing text editor&apos;s font-size triggers re-measure</para>
</listitem><listitem>
<para>After re-remeasuring, reload the virtualization result.</para>
</listitem><listitem>
<para>BrowserResizeInterop</para>
</listitem><listitem>
<para>InputTextEditorFontSize.razor changes</para>
</listitem><listitem>
<para>ScrollbarSection.razor vertical reset point while dragging</para>
</listitem><listitem>
<para>DISTANCE_TO_RESET_SCROLL_POSITION is 300px </para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md143">
<title>[2.6.0] - 2024-09-19</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md144">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>Fix: text erroneously written out when holding non-shift modifier(s). (i.e.: { &apos;Ctrl&apos; + &apos;c&apos; } to copy writing out the letter &apos;c&apos; to the text editor)</para>
</listitem><listitem>
<para>Fix: maximum scrollWidth and scrollHeight becoming smaller (and how this impacts scrollLeft and scrollTop)</para>
</listitem><listitem>
<para>Fix: negative scrollLeft and negative scrollTop </para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md145">
<title>[2.5.0] - 2024-09-05</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md146">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>Fix: deletion of text that spans multiple partitions. </para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md147">
<title>[2.4.0] - 2024-09-02</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md148">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>Fix: deletion of lines will now scroll by the amount of lines deleted. Previously, this was breaking the virtualization result until one triggered a re-calculation.</para>
</listitem><listitem>
<para>Fix: Keybinds first try to match on a JavaScript &apos;event.key&apos; so to speak. Then, as a fallback they will now try to match on &apos;event.code&apos; so to speak. Previously, on Ubuntu, if one remapped the CapsLock key to Escape, it would not work in the IDE at various places. This has been fixed.</para>
</listitem><listitem>
<para>Text editor events now use structs to transmit event data. This is expected to be a large optimization, as it tends that high turnover &apos;class&apos; objects bring performance issues due to the garbage collection overhead.</para>
</listitem><listitem>
<para>Text editor&apos;s OnKeyDownLateBatching event uses a fixed size array for batching events, rather than what previously was a List&lt;T&gt;. This is expected to be a large optimization, as it tends that high turnover &apos;class&apos; objects bring performance issues due to the garbage collection overhead. As well, it tends to be the case that no more than 3 or 4 keyboard events ever get batched together. So the fixed size array is &apos;8&apos; keyboard events can be made into a single batch. </para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md149">
<title>[2.3.0] - 2024-08-27</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md150">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>Fix: line endings breaking due to a Post to the ITextEditorService which makes an edit, but then throws an exception within the same Post.</para>
</listitem><listitem>
<para>Fix: Gutter width changes causing the text editor measurements to be incorrect.</para>
</listitem><listitem>
<para>Use more recent dropdown code for text editor autocomplete and context menu. The newer dropdown code moves itself so it stays on screen (if it initially rendered offscreen).</para>
</listitem><listitem>
<para>Fix: return focus to text editor after picking a menu option in autocomplete or context menu.</para>
</listitem><listitem>
<para>Start code snippet logic. </para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md151">
<title>[2.2.0] - 2024-08-20</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md152">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>Home keybind understands indentation</para>
</listitem><listitem>
<para>Fix cursor blinking</para>
</listitem><listitem>
<para>Fix change keymap without having to reload</para>
</listitem><listitem>
<para>Track additionally, the &apos;Key&apos; of a keyboard event args (previously only was tracking the &apos;Code&apos;)</para>
</listitem><listitem>
<para>Change ITextEditorWork implementations and ResourceUri to structs</para>
</listitem><listitem>
<para>Fix various &apos;Vim&apos; keybind bugs. It isn&apos;t fully functional yet. </para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md153">
<title>[2.1.0] - 2024-08-15</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md154">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>Fix text editor context menu crashing when closing</para>
</listitem><listitem>
<para>Fix out of sync syntax highlighting. </para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md155">
<title>[2.0.0] - 2024-08-14</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md156">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>Fix cursor &quot;randomly&quot; losing focus</para>
</listitem><listitem>
<para>Re-write virtualization in C# (it was previously done with JavaScript)</para>
</listitem><listitem>
<para>Change <link linkend="__rich_character_8cs">RichCharacter.cs</link> to a struct (it was previously a class).</para>
</listitem><listitem>
<para>Change ITextEditorModel.RichCharacterList to an array (it was previously an ImmutableList).</para>
</listitem><listitem>
<para>Fix typing at start of file (position index 0) a non letter or digit.</para>
</listitem><listitem>
<para>Text Editor uses 60% less memory after various struct/array optimizations.</para>
</listitem><listitem>
<para>Text Editor &quot;feels&quot; an order of magnitude faster after various Blazor optimizations and struct/array optimizations (which reduce the garbage collection overhead thus improving performance greatly).</para>
</listitem></itemizedlist>
</para>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md157">
<title>Bugs</title>
<para><itemizedlist>
<listitem>
<para>If one opens the text editor&apos;s context menu with the dedicated &apos;ContextMenu&apos; button on the keyboard, or the accessability keybind { Shift + F10 }. To then hit the &apos;Escape&apos; key or the &apos;ArrowLeft&apos; key to close the context menu, is causing an unhandled exception.</para>
</listitem><listitem>
<para>The syntax highlighting is out of sync. (its seems to be &quot;lagging&quot; behind by 1 event) </para>
</listitem></itemizedlist>
</para>
</section>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md158">
<title>[1.3.0] - 2023-08-20</title>
<para>
<para><emphasis role="bold">Click to show changes</emphasis></para><para>
<para></para>

<para></para>
</para>
</para>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md159">
<title>Fixed</title>
<para><itemizedlist>
<listitem>
<para>Most documentation issues I found are fixed.</para>
</listitem><listitem>
<para>All NuGet Packages mentioned are at version 1.3.0 as well to avoid confusion.</para>
</listitem><listitem>
<para>.NET 6 Blazor-WASM worked after following documentation start to finish.</para>
</listitem><listitem>
<para>.NET 6 Blazor-ServerSide after following documentation start to finish.</para>
</listitem></itemizedlist>
</para>
</section>
<section xml:id="_md__docs_2_text_editor_2changelog_1autotoc_md160">
<title>Bugs</title>
<para><itemizedlist>
<listitem>
<para>.NET 6 is hard-coded as the target framework. Therefore, .NET 7 apps are not working. I need to remedy this in later versions. </para>
</listitem></itemizedlist>
</para>
</section>
</section>
</section>
