<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__ideas_8cs_source" xml:lang="en-US">
<title>Ideas.cs</title>
<indexterm><primary>Source/Tests/BUnit/Luthetus.BUnit.Tests/TextEditors/MutableVirtualizationResult/Ideas.cs</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__ideas_8cs_source_1l00001"/><link linkend="_namespace_luthetus_1_1_b_unit_1_1_tests_1_1_text_editors_1_1_mutable_virtualization_result">00001</link> <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_luthetus_1_1_b_unit_1_1_tests_1_1_text_editors_1_1_mutable_virtualization_result">Luthetus.BUnit.Tests.TextEditors.MutableVirtualizationResult</link>;
<anchor xml:id="__ideas_8cs_source_1l00002"/>00002 
<anchor xml:id="__ideas_8cs_source_1l00003"/>00003 <emphasis role="comment">/*</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00004"/>00004 <emphasis role="comment">Virtualization&#32;is&#32;part&#32;of&#32;the&#32;text&#32;editor&#32;UI.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00005"/>00005 <emphasis role="comment">This&#32;way,&#32;only&#32;the&#32;text&#32;the&#32;user&#32;can&#32;fit&#32;in&#32;their&#32;view&#32;(this&#32;description&#32;is&#32;simple&#32;and&#32;inaccurate),&#32;is&#32;given&#32;to&#32;the&#32;UI</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00006"/>00006 <emphasis role="comment">in&#32;order&#32;to&#32;be&#32;displayed.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00007"/>00007 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00008"/>00008 <emphasis role="comment">The&#32;code&#32;that&#32;goes&#32;into&#32;calculating&#32;the&#32;virtualization&#32;result,&#32;is&#32;seemingly&#32;CPU&#32;intensive&#32;enough,</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00009"/>00009 <emphasis role="comment">to&#32;warrant&#32;that&#32;insertion&#32;of&#32;text&#32;by&#32;a&#32;user&#32;should&#32;not&#32;re-calculate&#32;the&#32;virtualization&#32;result.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00010"/>00010 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00011"/>00011 <emphasis role="comment">A&#32;further&#32;detail&#32;here,&#32;moving&#32;the&#32;scroll&#32;position&#32;should&#32;continue&#32;resulting&#32;in&#32;the&#32;re-calculation</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00012"/>00012 <emphasis role="comment">of&#32;the&#32;virtualization&#32;result,&#32;this&#32;isn&apos;t&#32;seen&#32;as&#32;a&#32;problem.&#32;(albeit&#32;the&#32;current&#32;method&#32;of&#32;re-calculation</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00013"/>00013 <emphasis role="comment">could&#32;be&#32;optimized).</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00014"/>00014 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00015"/>00015 <emphasis role="comment">A&#32;headache&#32;inducing&#32;thought&#32;is&#32;dealing&#32;with&#32;&quot;random&#32;access&#32;insertion&quot;&#32;so&#32;to&#32;speak.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00016"/>00016 <emphasis role="comment">If&#32;it&#32;is&#32;presumed&#32;a&#32;user&#32;through&#32;the&#32;UI&#32;and&#32;by&#32;typing&#32;on&#32;their&#32;keyboard&#32;can&#32;only&#32;edit&#32;their&#32;virtualization&#32;result</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00017"/>00017 <emphasis role="comment">&#32;&#32;&#32;&#32;(because&#32;anywhere&#32;the&#32;cursor&#32;goes&#32;the&#32;scroll&#32;position&#32;will&#32;move&#32;to,&#32;thus&#32;making&#32;it&#32;the&#32;new&#32;virtualization&#32;result).</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00018"/>00018 <emphasis role="comment">Then&#32;how&#32;does&#32;one&#32;handle&#32;refactoring,&#32;which&#32;inserts&#32;text&#32;above&#32;the&#32;current&#32;virtualization&#32;result.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00019"/>00019 <emphasis role="comment">&#32;&#32;&#32;&#32;Because,&#32;this&#32;would&#32;then&#32;move&#32;the&#32;scrollbar,&#32;but&#32;in&#32;a&#32;way&#32;that&#32;could&#32;push&#32;the&#32;existing&#32;virtualization&#32;result</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00020"/>00020 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;out&#32;of&#32;bounds,&#32;and&#32;result&#32;in&#32;re-calculation&#32;of&#32;the&#32;virtualization&#32;being&#32;necessary.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00021"/>00021 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00022"/>00022 <emphasis role="comment">In&#32;short,&#32;it&#32;seems&#32;&quot;easy&#32;enough&quot;&#32;to&#32;predict&#32;what&#32;the&#32;virtualization&#32;result&#32;will&#32;be&#32;after&#32;the&#32;user&#32;types</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00023"/>00023 <emphasis role="comment">the&#32;letter&#32;&apos;a&apos;&#32;within&#32;the&#32;bounds&#32;of&#32;an&#32;existing&#32;virtualization&#32;result.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00024"/>00024 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00025"/>00025 <emphasis role="comment">But,&#32;edits&#32;outside&#32;of&#32;the&#32;virtualization&#32;result&#32;might&#32;be&#32;a&#32;bit&#32;more&#32;complicated.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00026"/>00026 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00027"/>00027 <emphasis role="comment">Therefore,&#32;it&#32;is&#32;recommended&#32;that&#32;the&#32;&quot;within&#32;bounds&#32;of&#32;an&#32;existing&#32;virtualization&#32;result&quot;</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00028"/>00028 <emphasis role="comment">case&#32;is&#32;handled&#32;firstly.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00029"/>00029 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00030"/>00030 <emphasis role="comment">And&#32;that&#32;any&#32;edit&#32;outside&#32;of&#32;an&#32;existing&#32;virtualization&#32;result&#32;would&#32;continue&#32;to&#32;re-trigger&#32;the</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00031"/>00031 <emphasis role="comment">virtualization&#32;calculation&#32;for&#32;now.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00032"/>00032 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00033"/>00033 <emphasis role="comment">A&#32;concern&#32;with&#32;this&#32;idea&#32;is&#32;that,&#32;if&#32;incorrectly&#32;implemented&#32;there&#32;could&#32;be&#32;&apos;desync&apos;&#32;between</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00034"/>00034 <emphasis role="comment">what&#32;the&#32;user&#32;sees&#32;in&#32;the&#32;text&#32;editor,&#32;and&#32;the&#32;actual&#32;text&#32;value&#32;behind&#32;the&#32;scenes.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00035"/>00035 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00036"/>00036 <emphasis role="comment">It&#32;is&#32;vital&#32;that&#32;there&#32;never&#32;be&#32;any&#32;&apos;desync&apos;.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00037"/>00037 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00038"/>00038 <emphasis role="comment">Considering&#32;that&#32;there&#32;exists&#32;code&#32;to&#32;track&#32;the&#32;&apos;EditList&apos;.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00039"/>00039 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00040"/>00040 <emphasis role="comment">Perhaps&#32;one&#32;could&#32;track&#32;the&#32;starting&#32;EditIndex,&#32;and&#32;the&#32;ending&#32;EditIndex,</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00041"/>00041 <emphasis role="comment">when&#32;finalizing&#32;an&#32;ITextEditorEditContext.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00042"/>00042 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00043"/>00043 <emphasis role="comment">Then,&#32;if&#32;the&#32;&apos;EditList&apos;&#32;entries&#32;are&#32;seen&#32;to&#32;be&#32;in&#32;bounds&#32;of&#32;the</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00044"/>00044 <emphasis role="comment">&apos;virtualization&#32;result&apos;&#32;then&#32;just&#32;insert&#32;directly&#32;to&#32;the&#32;&apos;virtualization&#32;result&apos;&#32;those&#32;edits&#32;too.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00045"/>00045 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00046"/>00046 <emphasis role="comment">Else,&#32;one&#32;could&#32;re-calculate&#32;the&#32;entire&#32;virtualization&#32;result.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00047"/>00047 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00048"/>00048 <emphasis role="comment">Holding&#32;down&#32;any&#32;key&#32;on&#32;the&#32;keyboard,&#32;which&#32;inserts&#32;a&#32;character,&#32;demonstrates&#32;the&#32;current&#32;issue&#32;with</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00049"/>00049 <emphasis role="comment">re-calculating&#32;the&#32;virtualization&#32;result&#32;on&#32;every&#32;insertion.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00050"/>00050 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00051"/>00051 <emphasis role="comment">In&#32;a&#32;small&#32;enough&#32;file,&#32;there&#32;isn&apos;t&#32;much&#32;performance&#32;issues.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00052"/>00052 <emphasis role="comment">But,&#32;after&#32;about&#32;10,000&#32;characters&#32;it&#32;seems&#32;to&#32;be&#32;getting&#32;exponentially&#32;performing&#32;worse&#32;and&#32;worse</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00053"/>00053 <emphasis role="comment">for&#32;every&#32;character&#32;that&#32;is&#32;within&#32;a&#32;file.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00054"/>00054 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00055"/>00055 <emphasis role="comment">If&#32;I&#32;write&#32;a&#32;unit&#32;test&#32;which&#32;provides&#32;the&#32;initial&#32;virtualization&#32;result,&#32;then&#32;I&#32;can&#32;insert&#32;text&#32;within&#32;the&#32;bounds</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00056"/>00056 <emphasis role="comment">of&#32;said&#32;virtualization&#32;result&#32;with&#32;this&#32;idea&#32;being&#32;described.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00057"/>00057 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00058"/>00058 <emphasis role="comment">Afterwards,&#32;I&#32;can&#32;assert&#32;that&#32;the&#32;&quot;modified&#32;virtualization&#32;result&quot;&#32;equals&#32;what&#32;would&#32;have</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00059"/>00059 <emphasis role="comment">been&#32;calculated&#32;had&#32;I&#32;re-invoked&#32;the&#32;calculate&#32;virtualization&#32;result&#32;method.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00060"/>00060 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00061"/>00061 <emphasis role="comment">======================================================</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00062"/>00062 <emphasis role="comment"></emphasis>
<anchor xml:id="__ideas_8cs_source_1l00063"/>00063 <emphasis role="comment">Deletion&#32;of&#32;text&#32;might&#32;bring&#32;downstream&#32;unloaded&#32;text&#32;into&#32;view.</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00064"/>00064 <emphasis role="comment">*/</emphasis>
<anchor xml:id="__ideas_8cs_source_1l00065"/>00065 
<anchor xml:id="__ideas_8cs_source_1l00067"/><link linkend="_class_luthetus_1_1_b_unit_1_1_tests_1_1_text_editors_1_1_mutable_virtualization_result_1_1_ideas">00067</link> <emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_luthetus_1_1_b_unit_1_1_tests_1_1_text_editors_1_1_mutable_virtualization_result_1_1_ideas">Ideas</link>
<anchor xml:id="__ideas_8cs_source_1l00068"/>00068 {
<anchor xml:id="__ideas_8cs_source_1l00069"/>00069 &#32;&#32;&#32;&#32;
<anchor xml:id="__ideas_8cs_source_1l00070"/>00070 }
</programlisting></section>
