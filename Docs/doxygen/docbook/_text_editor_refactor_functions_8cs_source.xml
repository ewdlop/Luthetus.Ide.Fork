<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__text_editor_refactor_functions_8cs_source" xml:lang="en-US">
<title>TextEditorRefactorFunctions.cs</title>
<indexterm><primary>Source/Lib/TextEditor/Commands/Models/Defaults/TextEditorRefactorFunctions.cs</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00001"/>00001 <emphasis role="keyword">using&#32;</emphasis>Microsoft.Extensions.DependencyInjection;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00002"/>00002 <emphasis role="keyword">using&#32;</emphasis>Fluxor;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00003"/>00003 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_common_1_1_razor_lib_1_1_notifications_1_1_models">Luthetus.Common.RazorLib.Notifications.Models</link>;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00004"/>00004 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_common_1_1_razor_lib_1_1_component_renderers_1_1_models">Luthetus.Common.RazorLib.ComponentRenderers.Models</link>;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00005"/>00005 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_common_1_1_razor_lib_1_1_keys_1_1_models">Luthetus.Common.RazorLib.Keys.Models</link>;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00006"/>00006 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax">Luthetus.TextEditor.RazorLib.CompilerServices.Syntax</link>;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00007"/>00007 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models">Luthetus.TextEditor.RazorLib.TextEditors.Models</link>;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00008"/>00008 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_cursors_1_1_models">Luthetus.TextEditor.RazorLib.Cursors.Models</link>;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00009"/>00009 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_nodes">Luthetus.TextEditor.RazorLib.CompilerServices.Syntax.Nodes</link>;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00010"/>00010 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_nodes_1_1_interfaces">Luthetus.TextEditor.RazorLib.CompilerServices.Syntax.Nodes.Interfaces</link>;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00011"/>00011 
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00012"/>00012 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_commands_1_1_models_1_1_defaults">Luthetus.TextEditor.RazorLib.Commands.Models.Defaults</link>;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00013"/>00013 
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00039"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_commands_1_1_models_1_1_defaults_1_1_text_editor_refactor_functions">00039</link> <emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_commands_1_1_models_1_1_defaults_1_1_text_editor_refactor_functions">TextEditorRefactorFunctions</link>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00040"/>00040 {
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00055"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_commands_1_1_models_1_1_defaults_1_1_text_editor_refactor_functions_1a0890c8472421c02d247e5f2757bb772e">00055</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_commands_1_1_models_1_1_defaults_1_1_text_editor_refactor_functions_1a0890c8472421c02d247e5f2757bb772e">GenerateConstructor</link>(
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00056"/>00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_nodes_1_1_type_definition_node">TypeDefinitionNode</link>&#32;unsafeTypeDefinitionNode,
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00057"/>00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;IEnumerable&lt;IVariableDeclarationNode&gt;&#32;variableDeclarationNodeList,
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00058"/>00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;IServiceProvider&#32;serviceProvider,
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00059"/>00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_i_text_editor_edit_context">ITextEditorEditContext</link>&#32;editContext,
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00060"/>00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_text_editor_model_modifier">TextEditorModelModifier</link>&#32;modelModifier,
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00061"/>00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_text_editor_view_model_modifier">TextEditorViewModelModifier</link>&#32;viewModelModifier,
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00062"/>00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_cursor_modifier_bag_text_editor">CursorModifierBagTextEditor</link>&#32;cursorModifierBag,
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00063"/>00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_cursors_1_1_models_1_1_text_editor_cursor_modifier">TextEditorCursorModifier</link>&#32;primaryCursorModifier)
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00064"/>00064 &#32;&#32;&#32;&#32;{
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00065"/>00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00066"/>00066 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00067"/>00067 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;//&#32;The&#32;ISyntaxNode.Parent&#32;property&#32;is&#32;being&#32;removed.&#32;(2024-11-11)</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00068"/>00068 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;//&#32;==============================================================</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00069"/>00069 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;//&#32;TODO:&#32;Rewrite&#32;this&#32;block&#32;of&#32;code&#32;but&#32;find&#32;the&#32;parent&#32;node&#32;by&#32;&quot;querying&quot;&#32;the&#32;Binder.</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00070"/>00070 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00071"/>00071 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;compilerService&#32;=&#32;modelModifier.CompilerService;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00072"/>00072 <emphasis role="comment">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00073"/>00073 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;compilerServiceResource&#32;=&#32;compilerService.GetCompilerServiceResourceFor(modelModifier.ResourceUri);</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00074"/>00074 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00075"/>00075 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;(compilerServiceResource&#32;is&#32;null)</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00076"/>00076 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00077"/>00077 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;NotificationHelper.DispatchError(</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00078"/>00078 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nameof(GenerateConstructor),&#32;&quot;compilerServiceResource&#32;was&#32;null&quot;,&#32;serviceProvider.GetRequiredService&lt;ICommonComponentRenderers&gt;(),&#32;serviceProvider.GetRequiredService&lt;IDispatcher&gt;(),&#32;TimeSpan.FromSeconds(6));</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00079"/>00079 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00080"/>00080 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00081"/>00081 <emphasis role="comment">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00082"/>00082 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;//&#32;Try&#32;to&#32;match&#32;unsafeTypeDefinitionNode&#32;to&#32;the&#32;current&#32;text&#32;editor&#32;state</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00083"/>00083 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;//&#32;in&#32;the&#32;event&#32;that&#32;an&#32;edit&#32;to&#32;the&#32;document&#32;was&#32;made&#32;between&#32;the&#32;time</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00084"/>00084 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;//&#32;that&#32;the&#32;menu&#32;option&#32;was&#32;constructed,&#32;and&#32;the&#32;menu&#32;option&#32;was&#32;onclick&apos;d.</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00085"/>00085 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00086"/>00086 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;unsafeStartingIndexInclusive&#32;=&#32;unsafeTypeDefinitionNode.TypeIdentifierToken.TextSpan.StartingIndexInclusive;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00087"/>00087 <emphasis role="comment"></emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00088"/>00088 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;syntaxNode&#32;=&#32;compilerService.Binder.GetSyntaxNode(unsafeStartingIndexInclusive,&#32;compilerServiceResource.CompilationUnit);</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00089"/>00089 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00090"/>00090 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;(syntaxNode&#32;is&#32;null)</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00091"/>00091 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00092"/>00092 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;NotificationHelper.DispatchError(</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00093"/>00093 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nameof(GenerateConstructor),&#32;&quot;syntaxNode&#32;was&#32;null&quot;,&#32;serviceProvider.GetRequiredService&lt;ICommonComponentRenderers&gt;(),&#32;serviceProvider.GetRequiredService&lt;IDispatcher&gt;(),&#32;TimeSpan.FromSeconds(6));</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00094"/>00094 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00095"/>00095 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00096"/>00096 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00097"/>00097 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;(syntaxNode&#32;is&#32;not&#32;TypeDefinitionNode&#32;typeDefinitionNode)</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00098"/>00098 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00099"/>00099 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;NotificationHelper.DispatchError(</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00100"/>00100 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nameof(GenerateConstructor),&#32;$&quot;Node&#32;is&#32;not&#32;{nameof(SyntaxKind)}.{nameof(SyntaxKind.TypeDefinitionNode)}&#32;it&#32;is:&#32;{nameof(SyntaxKind)}.{syntaxNode.Parent.SyntaxKind}&quot;,&#32;serviceProvider.GetRequiredService&lt;ICommonComponentRenderers&gt;(),&#32;serviceProvider.GetRequiredService&lt;IDispatcher&gt;(),&#32;TimeSpan.FromSeconds(6));</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00101"/>00101 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00102"/>00102 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00103"/>00103 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00104"/>00104 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;(typeDefinitionNode.CodeBlockNode&#32;is&#32;null)</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00105"/>00105 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00106"/>00106 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;NotificationHelper.DispatchError(</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00107"/>00107 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nameof(GenerateConstructor),&#32;$&quot;typeDefinitionNode.CodeBlockNode&#32;was&#32;null&quot;,&#32;serviceProvider.GetRequiredService&lt;ICommonComponentRenderers&gt;(),&#32;serviceProvider.GetRequiredService&lt;IDispatcher&gt;(),&#32;TimeSpan.FromSeconds(6));</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00108"/>00108 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00109"/>00109 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00110"/>00110 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00111"/>00111 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;try</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00112"/>00112 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00113"/>00113 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;insertionPointForText&#32;=&#32;1&#32;+&#32;typeDefinitionNode.OpenBraceToken.TextSpan.StartingIndexInclusive;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00114"/>00114 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00115"/>00115 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;lineAndColumnIndices&#32;=&#32;modelModifier.GetLineAndColumnIndicesFromPositionIndex(insertionPointForText);</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00116"/>00116 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00117"/>00117 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;cursor&#32;=&#32;new&#32;TextEditorCursor(</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00118"/>00118 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lineAndColumnIndices.lineIndex,</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00119"/>00119 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lineAndColumnIndices.columnIndex,</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00120"/>00120 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;true);</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00121"/>00121 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00122"/>00122 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modelModifier.Insert(</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00123"/>00123 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$&quot;\n\tpublic&#32;{typeDefinitionNode.TypeIdentifierToken.TextSpan.GetText()}()\n\t{{\n\t\t\n\t}}\n&quot;,</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00124"/>00124 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;new(Key&lt;TextEditorViewModel&gt;.Empty,&#32;new&#32;List&lt;TextEditorCursorModifier&gt;&#32;{&#32;new(cursor)&#32;}));</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00125"/>00125 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00126"/>00126 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;catch&#32;(Exception&#32;e)</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00127"/>00127 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00128"/>00128 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;NotificationHelper.DispatchError(</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00129"/>00129 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nameof(GenerateConstructor),&#32;e.ToString(),&#32;serviceProvider.GetRequiredService&lt;ICommonComponentRenderers&gt;(),&#32;serviceProvider.GetRequiredService&lt;IDispatcher&gt;(),&#32;TimeSpan.FromSeconds(6));</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00130"/>00130 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00131"/>00131 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00132"/>00132 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00133"/>00133 &#32;&#32;&#32;&#32;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00134"/>00134 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00135"/>00135 &#32;&#32;&#32;&#32;}
<anchor xml:id="__text_editor_refactor_functions_8cs_source_1l00136"/>00136 }
</programlisting></section>
