<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__compiler_service_8cs_source" xml:lang="en-US">
<title>CompilerService.cs</title>
<indexterm><primary>Source/Lib/TextEditor/CompilerServices/Implementations/CompilerService.cs</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__compiler_service_8cs_source_1l00001"/>00001 <emphasis role="keyword">using&#32;</emphasis>System.Collections.Immutable;
<anchor xml:id="__compiler_service_8cs_source_1l00002"/>00002 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_autocompletes_1_1_models">Luthetus.TextEditor.RazorLib.Autocompletes.Models</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00003"/>00003 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_facts">Luthetus.TextEditor.RazorLib.CompilerServices.Facts</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00004"/>00004 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces">Luthetus.TextEditor.RazorLib.CompilerServices.Interfaces</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00005"/>00005 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_nodes">Luthetus.TextEditor.RazorLib.CompilerServices.Syntax.Nodes</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00006"/>00006 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_cursors_1_1_models">Luthetus.TextEditor.RazorLib.Cursors.Models</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00007"/>00007 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_exceptions">Luthetus.TextEditor.RazorLib.Exceptions</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00008"/>00008 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_lexers_1_1_models">Luthetus.TextEditor.RazorLib.Lexers.Models</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00009"/>00009 <emphasis role="keyword">using&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models">Luthetus.TextEditor.RazorLib.TextEditors.Models</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00010"/>00010 
<anchor xml:id="__compiler_service_8cs_source_1l00011"/>00011 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations">Luthetus.TextEditor.RazorLib.CompilerServices.Implementations</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00012"/>00012 
<anchor xml:id="__compiler_service_8cs_source_1l00013"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service">00013</link> <emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5b5123cac467989f95d3cce9f095b720">CompilerService</link>&#32;:&#32;<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service">ICompilerService</link>
<anchor xml:id="__compiler_service_8cs_source_1l00014"/>00014 {
<anchor xml:id="__compiler_service_8cs_source_1l00015"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">00015</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;readonly&#32;Dictionary&lt;ResourceUri,&#32;ICompilerServiceResource&gt;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>();
<anchor xml:id="__compiler_service_8cs_source_1l00016"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">00016</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;readonly&#32;<emphasis role="keywordtype">object</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>();
<anchor xml:id="__compiler_service_8cs_source_1l00017"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aad2f12fcf11e113a729624a98c94a6d7">00017</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;readonly&#32;<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service">ITextEditorService</link>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aad2f12fcf11e113a729624a98c94a6d7">_textEditorService</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00018"/>00018 
<anchor xml:id="__compiler_service_8cs_source_1l00019"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7cdeaada9bb0cceb5ebc1dfdc93d7bf5">00019</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_options">CompilerServiceOptions</link>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7cdeaada9bb0cceb5ebc1dfdc93d7bf5">_compilerServiceOptions</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>();
<anchor xml:id="__compiler_service_8cs_source_1l00020"/>00020 
<anchor xml:id="__compiler_service_8cs_source_1l00022"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5b5123cac467989f95d3cce9f095b720">00022</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5b5123cac467989f95d3cce9f095b720">CompilerService</link>(<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service">ITextEditorService</link>&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1aecfb76d19da117c025734259242d144d">textEditorService</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00023"/>00023 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00024"/>00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aad2f12fcf11e113a729624a98c94a6d7">_textEditorService</link>&#32;=&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1aecfb76d19da117c025734259242d144d">textEditorService</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00025"/>00025 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00026"/>00026 
<anchor xml:id="__compiler_service_8cs_source_1l00030"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a6299c8ef458a14b8d4309b1701735d8a">00030</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">event</emphasis>&#32;Action?&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a6299c8ef458a14b8d4309b1701735d8a">ResourceRegistered</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00034"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a1052400866541ef801c1ca2b180df004">00034</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">event</emphasis>&#32;Action?&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a1052400866541ef801c1ca2b180df004">ResourceParsed</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00038"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7f4283223d3276b1ca1309679fe97d39">00038</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">event</emphasis>&#32;Action?&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7f4283223d3276b1ca1309679fe97d39">ResourceDisposed</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00039"/>00039 
<anchor xml:id="__compiler_service_8cs_source_1l00040"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aced54ac4d1ff9eb5836ad2b777af5d8e">00040</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_binder">IBinder</link>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aced54ac4d1ff9eb5836ad2b777af5d8e">Binder</link>&#32;{&#32;<emphasis role="keyword">get</emphasis>;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">set</emphasis>;&#32;}&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aced54ac4d1ff9eb5836ad2b777af5d8e">Binder</link>();
<anchor xml:id="__compiler_service_8cs_source_1l00041"/>00041 
<anchor xml:id="__compiler_service_8cs_source_1l00042"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a0968239e0fa9d21f513262f8b6fe8695">00042</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;ImmutableArray&lt;ICompilerServiceResource&gt;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a0968239e0fa9d21f513262f8b6fe8695">CompilerServiceResources</link>&#32;=&gt;
<anchor xml:id="__compiler_service_8cs_source_1l00043"/>00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.Values.ToImmutableArray();
<anchor xml:id="__compiler_service_8cs_source_1l00044"/>00044 
<anchor xml:id="__compiler_service_8cs_source_1l00045"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a339da84e3f500a4ef21de14f3918adbb">00045</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a339da84e3f500a4ef21de14f3918adbb">RegisterResource</link>(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1a435ccef09e2ba83022e8cf378fc0f690">ResourceUri</link>&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>,&#32;<emphasis role="keywordtype">bool</emphasis>&#32;shouldTriggerResourceWasModified)
<anchor xml:id="__compiler_service_8cs_source_1l00046"/>00046 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00047"/>00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lock&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00048"/>00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00049"/>00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.ContainsKey(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>))
<anchor xml:id="__compiler_service_8cs_source_1l00050"/>00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
<anchor xml:id="__compiler_service_8cs_source_1l00051"/>00051 
<anchor xml:id="__compiler_service_8cs_source_1l00052"/>00052 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;resource&#32;=&#32;_compilerServiceOptions.RegisterResourceFunc&#32;is&#32;not&#32;<emphasis role="keyword">null</emphasis>
<anchor xml:id="__compiler_service_8cs_source_1l00053"/>00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;?&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7cdeaada9bb0cceb5ebc1dfdc93d7bf5">_compilerServiceOptions</link>.RegisterResourceFunc.Invoke(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00054"/>00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;:&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_resource">CompilerServiceResource</link>(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>,&#32;<emphasis role="keyword">this</emphasis>);
<anchor xml:id="__compiler_service_8cs_source_1l00055"/>00055 
<anchor xml:id="__compiler_service_8cs_source_1l00056"/>00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.Add(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>,&#32;resource);
<anchor xml:id="__compiler_service_8cs_source_1l00057"/>00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00058"/>00058 
<anchor xml:id="__compiler_service_8cs_source_1l00059"/>00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(shouldTriggerResourceWasModified)
<anchor xml:id="__compiler_service_8cs_source_1l00060"/>00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a075f073132f5cd64f1d46e5b0ba34c07">ResourceWasModified</link>(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>,&#32;ImmutableArray&lt;TextEditorTextSpan&gt;.Empty);
<anchor xml:id="__compiler_service_8cs_source_1l00061"/>00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__compiler_service_8cs_source_1l00062"/>00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a6299c8ef458a14b8d4309b1701735d8a">ResourceRegistered</link>?.Invoke();
<anchor xml:id="__compiler_service_8cs_source_1l00063"/>00063 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00064"/>00064 
<anchor xml:id="__compiler_service_8cs_source_1l00065"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1ae2e5877d30f51b430ac4f46192ec8fd1">00065</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_resource">ICompilerServiceResource</link>?&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1ae2e5877d30f51b430ac4f46192ec8fd1">GetCompilerServiceResourceFor</link>(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1a435ccef09e2ba83022e8cf378fc0f690">ResourceUri</link>&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00066"/>00066 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00067"/>00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;model&#32;=&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aad2f12fcf11e113a729624a98c94a6d7">_textEditorService</link>.ModelApi.GetOrDefault(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>);
<anchor xml:id="__compiler_service_8cs_source_1l00068"/>00068 
<anchor xml:id="__compiler_service_8cs_source_1l00069"/>00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(model&#32;is&#32;<emphasis role="keyword">null</emphasis>)
<anchor xml:id="__compiler_service_8cs_source_1l00070"/>00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">null</emphasis>;
<anchor xml:id="__compiler_service_8cs_source_1l00071"/>00071 
<anchor xml:id="__compiler_service_8cs_source_1l00072"/>00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lock&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00073"/>00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00074"/>00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.ContainsKey(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>))
<anchor xml:id="__compiler_service_8cs_source_1l00075"/>00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">null</emphasis>;
<anchor xml:id="__compiler_service_8cs_source_1l00076"/>00076 
<anchor xml:id="__compiler_service_8cs_source_1l00077"/>00077 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>[<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>];
<anchor xml:id="__compiler_service_8cs_source_1l00078"/>00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00079"/>00079 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00080"/>00080 
<anchor xml:id="__compiler_service_8cs_source_1l00081"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a602cb68ba3b4b5a0475b5950e70e37c8">00081</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;ImmutableArray&lt;TextEditorTextSpan&gt;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a602cb68ba3b4b5a0475b5950e70e37c8">GetTokenTextSpansFor</link>(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1a435ccef09e2ba83022e8cf378fc0f690">ResourceUri</link>&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00082"/>00082 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00083"/>00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lock&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00084"/>00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00085"/>00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.ContainsKey(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>))
<anchor xml:id="__compiler_service_8cs_source_1l00086"/>00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;ImmutableArray&lt;TextEditorTextSpan&gt;.Empty;
<anchor xml:id="__compiler_service_8cs_source_1l00087"/>00087 
<anchor xml:id="__compiler_service_8cs_source_1l00088"/>00088 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>[<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>].GetTokenTextSpans();
<anchor xml:id="__compiler_service_8cs_source_1l00089"/>00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00090"/>00090 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00091"/>00091 
<anchor xml:id="__compiler_service_8cs_source_1l00092"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7d7ccdb16035d24984309f12dce78c5a">00092</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;ImmutableArray&lt;ITextEditorSymbol&gt;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7d7ccdb16035d24984309f12dce78c5a">GetSymbolsFor</link>(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1a435ccef09e2ba83022e8cf378fc0f690">ResourceUri</link>&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00093"/>00093 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00094"/>00094 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lock&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00095"/>00095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00096"/>00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.ContainsKey(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>))
<anchor xml:id="__compiler_service_8cs_source_1l00097"/>00097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;ImmutableArray&lt;ITextEditorSymbol&gt;.Empty;
<anchor xml:id="__compiler_service_8cs_source_1l00098"/>00098 
<anchor xml:id="__compiler_service_8cs_source_1l00099"/>00099 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>[<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>].GetSymbols();
<anchor xml:id="__compiler_service_8cs_source_1l00100"/>00100 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00101"/>00101 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00102"/>00102 
<anchor xml:id="__compiler_service_8cs_source_1l00103"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a3ba654e19024f187e9cc2372f1e03225">00103</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;ImmutableArray&lt;TextEditorDiagnostic&gt;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a3ba654e19024f187e9cc2372f1e03225">GetDiagnosticsFor</link>(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1a435ccef09e2ba83022e8cf378fc0f690">ResourceUri</link>&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00104"/>00104 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00105"/>00105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lock&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00106"/>00106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00107"/>00107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.ContainsKey(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>))
<anchor xml:id="__compiler_service_8cs_source_1l00108"/>00108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;ImmutableArray&lt;TextEditorDiagnostic&gt;.Empty;
<anchor xml:id="__compiler_service_8cs_source_1l00109"/>00109 
<anchor xml:id="__compiler_service_8cs_source_1l00110"/>00110 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>[<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>].GetDiagnostics();
<anchor xml:id="__compiler_service_8cs_source_1l00111"/>00111 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00112"/>00112 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00113"/>00113 
<anchor xml:id="__compiler_service_8cs_source_1l00114"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a075f073132f5cd64f1d46e5b0ba34c07">00114</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a075f073132f5cd64f1d46e5b0ba34c07">ResourceWasModified</link>(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1a435ccef09e2ba83022e8cf378fc0f690">ResourceUri</link>&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>,&#32;ImmutableArray&lt;TextEditorTextSpan&gt;&#32;editTextSpansList)
<anchor xml:id="__compiler_service_8cs_source_1l00115"/>00115 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00116"/>00116 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aad2f12fcf11e113a729624a98c94a6d7">_textEditorService</link>.PostUnique(
<anchor xml:id="__compiler_service_8cs_source_1l00117"/>00117 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nameof(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5b5123cac467989f95d3cce9f095b720">CompilerService</link>),
<anchor xml:id="__compiler_service_8cs_source_1l00118"/>00118 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;editContext&#32;=&gt;
<anchor xml:id="__compiler_service_8cs_source_1l00119"/>00119 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00120"/>00120 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;modelModifier&#32;=&#32;editContext.GetModelModifier(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>);
<anchor xml:id="__compiler_service_8cs_source_1l00121"/>00121 
<anchor xml:id="__compiler_service_8cs_source_1l00122"/>00122 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(modelModifier&#32;is&#32;<emphasis role="keyword">null</emphasis>)
<anchor xml:id="__compiler_service_8cs_source_1l00123"/>00123 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;Task.CompletedTask;
<anchor xml:id="__compiler_service_8cs_source_1l00124"/>00124 
<anchor xml:id="__compiler_service_8cs_source_1l00125"/>00125 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7f484c1dc9edc812993571fbf2541b8e">ParseAsync</link>(editContext,&#32;modelModifier);
<anchor xml:id="__compiler_service_8cs_source_1l00126"/>00126 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;});
<anchor xml:id="__compiler_service_8cs_source_1l00127"/>00127 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00128"/>00128 
<anchor xml:id="__compiler_service_8cs_source_1l00129"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a201bba4b614ca2f74e373d02413dbcbd">00129</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a201bba4b614ca2f74e373d02413dbcbd">CursorWasModified</link>(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1a435ccef09e2ba83022e8cf378fc0f690">ResourceUri</link>&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>,&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_cursors_1_1_models_1a8373e854ca1ddf152a3b5372ea18c20b">TextEditorCursor</link>&#32;cursor)
<anchor xml:id="__compiler_service_8cs_source_1l00130"/>00130 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00131"/>00131 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00132"/>00132 
<anchor xml:id="__compiler_service_8cs_source_1l00133"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a581977da4a43e8df1124880707870531">00133</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;ImmutableArray&lt;AutocompleteEntry&gt;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a581977da4a43e8df1124880707870531">GetAutocompleteEntries</link>(<emphasis role="keywordtype">string</emphasis>&#32;word,&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_lexers_1_1_models_1a1ffd1a7706dfd364560b76d47467812f">TextEditorTextSpan</link>&#32;textSpan)
<anchor xml:id="__compiler_service_8cs_source_1l00134"/>00134 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00135"/>00135 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;ImmutableArray&lt;AutocompleteEntry&gt;.Empty;
<anchor xml:id="__compiler_service_8cs_source_1l00136"/>00136 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00137"/>00137 &#32;&#32;&#32;&#32;
<anchor xml:id="__compiler_service_8cs_source_1l00138"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7f484c1dc9edc812993571fbf2541b8e">00138</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;Task&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7f484c1dc9edc812993571fbf2541b8e">ParseAsync</link>(<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_i_text_editor_edit_context">ITextEditorEditContext</link>&#32;editContext,&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_text_editor_model_modifier">TextEditorModelModifier</link>&#32;modelModifier)
<anchor xml:id="__compiler_service_8cs_source_1l00139"/>00139 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00140"/>00140 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aad2f12fcf11e113a729624a98c94a6d7">_textEditorService</link>.ModelApi.StartPendingCalculatePresentationModel(
<anchor xml:id="__compiler_service_8cs_source_1l00141"/>00141 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;editContext,
<anchor xml:id="__compiler_service_8cs_source_1l00142"/>00142 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modelModifier,
<anchor xml:id="__compiler_service_8cs_source_1l00143"/>00143 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CompilerServiceDiagnosticPresentationFacts.PresentationKey,
<anchor xml:id="__compiler_service_8cs_source_1l00144"/>00144 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CompilerServiceDiagnosticPresentationFacts.EmptyPresentationModel);
<anchor xml:id="__compiler_service_8cs_source_1l00145"/>00145 
<anchor xml:id="__compiler_service_8cs_source_1l00146"/>00146 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;presentationModel&#32;=&#32;modelModifier.<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_text_editor_model_modifier_1ae8b3ab938690769535da27b76014bb80">PresentationModelList</link>.First(
<anchor xml:id="__compiler_service_8cs_source_1l00147"/>00147 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x&#32;=&gt;&#32;x.TextEditorPresentationKey&#32;==&#32;CompilerServiceDiagnosticPresentationFacts.PresentationKey);
<anchor xml:id="__compiler_service_8cs_source_1l00148"/>00148 
<anchor xml:id="__compiler_service_8cs_source_1l00149"/>00149 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(presentationModel.PendingCalculation&#32;is&#32;<emphasis role="keyword">null</emphasis>)
<anchor xml:id="__compiler_service_8cs_source_1l00150"/>00150 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">throw</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_exceptions_1_1_luthetus_text_editor_exception">LuthetusTextEditorException</link>($<emphasis role="stringliteral">&quot;{nameof(presentationModel)}.{nameof(presentationModel.PendingCalculation)}&#32;was&#32;not&#32;expected&#32;to&#32;be&#32;null&#32;here.&quot;</emphasis>);
<anchor xml:id="__compiler_service_8cs_source_1l00151"/>00151 
<anchor xml:id="__compiler_service_8cs_source_1l00152"/>00152 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7cdeaada9bb0cceb5ebc1dfdc93d7bf5">_compilerServiceOptions</link>.GetLexerFunc&#32;is&#32;<emphasis role="keyword">null</emphasis>)
<anchor xml:id="__compiler_service_8cs_source_1l00153"/>00153 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;Task.CompletedTask;
<anchor xml:id="__compiler_service_8cs_source_1l00154"/>00154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__compiler_service_8cs_source_1l00155"/>00155 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>&#32;=&#32;modelModifier.<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_text_editor_model_modifier_1a6465f59aaf55b1526ce93857fd144619">ResourceUri</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00156"/>00156 
<anchor xml:id="__compiler_service_8cs_source_1l00157"/>00157 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_lexer">ILexer</link>&#32;lexer;
<anchor xml:id="__compiler_service_8cs_source_1l00158"/>00158 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lock&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00159"/>00159 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00160"/>00160 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.ContainsKey(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>))
<anchor xml:id="__compiler_service_8cs_source_1l00161"/>00161 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;Task.CompletedTask;
<anchor xml:id="__compiler_service_8cs_source_1l00162"/>00162 
<anchor xml:id="__compiler_service_8cs_source_1l00163"/>00163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;resource&#32;=&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>[<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>];
<anchor xml:id="__compiler_service_8cs_source_1l00164"/>00164 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lexer&#32;=&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7cdeaada9bb0cceb5ebc1dfdc93d7bf5">_compilerServiceOptions</link>.GetLexerFunc.Invoke(resource,&#32;presentationModel.PendingCalculation.ContentAtRequest);
<anchor xml:id="__compiler_service_8cs_source_1l00165"/>00165 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00166"/>00166 
<anchor xml:id="__compiler_service_8cs_source_1l00167"/>00167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lexer.<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_lexer_1a810a2ebd558822b156165cb771710318">Lex</link>();
<anchor xml:id="__compiler_service_8cs_source_1l00168"/>00168 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lock&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00169"/>00169 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00170"/>00170 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.ContainsKey(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>))
<anchor xml:id="__compiler_service_8cs_source_1l00171"/>00171 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;Task.CompletedTask;
<anchor xml:id="__compiler_service_8cs_source_1l00172"/>00172 
<anchor xml:id="__compiler_service_8cs_source_1l00173"/>00173 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;resource&#32;=&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>[<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>];
<anchor xml:id="__compiler_service_8cs_source_1l00174"/>00174 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7cdeaada9bb0cceb5ebc1dfdc93d7bf5">_compilerServiceOptions</link>.OnAfterLexAction?.Invoke(resource,&#32;lexer);
<anchor xml:id="__compiler_service_8cs_source_1l00175"/>00175 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00176"/>00176 
<anchor xml:id="__compiler_service_8cs_source_1l00177"/>00177 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_nodes_1_1_compilation_unit">CompilationUnit</link>?&#32;compilationUnit&#32;=&#32;<emphasis role="keyword">null</emphasis>;
<anchor xml:id="__compiler_service_8cs_source_1l00178"/>00178 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Even&#32;if&#32;the&#32;parser&#32;throws&#32;an&#32;exception,&#32;be&#32;sure&#32;to</emphasis>
<anchor xml:id="__compiler_service_8cs_source_1l00179"/>00179 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;make&#32;use&#32;of&#32;the&#32;Lexer&#32;to&#32;do&#32;whatever&#32;syntax&#32;highlighting&#32;is&#32;possible.</emphasis>
<anchor xml:id="__compiler_service_8cs_source_1l00180"/>00180 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">try</emphasis>
<anchor xml:id="__compiler_service_8cs_source_1l00181"/>00181 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00182"/>00182 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7cdeaada9bb0cceb5ebc1dfdc93d7bf5">_compilerServiceOptions</link>.GetParserFunc&#32;is&#32;<emphasis role="keyword">null</emphasis>&#32;||&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aced54ac4d1ff9eb5836ad2b777af5d8e">Binder</link>&#32;is&#32;<emphasis role="keyword">null</emphasis>)
<anchor xml:id="__compiler_service_8cs_source_1l00183"/>00183 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;Task.CompletedTask;
<anchor xml:id="__compiler_service_8cs_source_1l00184"/>00184 
<anchor xml:id="__compiler_service_8cs_source_1l00185"/>00185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_parser">IParser</link>&#32;parser;
<anchor xml:id="__compiler_service_8cs_source_1l00186"/>00186 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lock&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00187"/>00187 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00188"/>00188 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.ContainsKey(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>))
<anchor xml:id="__compiler_service_8cs_source_1l00189"/>00189 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;Task.CompletedTask;
<anchor xml:id="__compiler_service_8cs_source_1l00190"/>00190 
<anchor xml:id="__compiler_service_8cs_source_1l00191"/>00191 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;resource&#32;=&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>[<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>];
<anchor xml:id="__compiler_service_8cs_source_1l00192"/>00192 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;parser&#32;=&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7cdeaada9bb0cceb5ebc1dfdc93d7bf5">_compilerServiceOptions</link>.GetParserFunc.Invoke(resource,&#32;lexer);
<anchor xml:id="__compiler_service_8cs_source_1l00193"/>00193 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00194"/>00194 
<anchor xml:id="__compiler_service_8cs_source_1l00195"/>00195 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;compilationUnit&#32;=&#32;parser.<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_parser_1a22fba9b8f1e4615b56d33c549a2d579f">Parse</link>(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aced54ac4d1ff9eb5836ad2b777af5d8e">Binder</link>,&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>);
<anchor xml:id="__compiler_service_8cs_source_1l00196"/>00196 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00197"/>00197 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">finally</emphasis>
<anchor xml:id="__compiler_service_8cs_source_1l00198"/>00198 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00199"/>00199 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lock&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00200"/>00200 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00201"/>00201 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.ContainsKey(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>))
<anchor xml:id="__compiler_service_8cs_source_1l00202"/>00202 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00203"/>00203 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;resource&#32;=&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>[<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>];
<anchor xml:id="__compiler_service_8cs_source_1l00204"/>00204 
<anchor xml:id="__compiler_service_8cs_source_1l00205"/>00205 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;resource.SyntaxTokenList&#32;=&#32;lexer.<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_lexer_1aea54d215da9f6e69f4ad49c660a05b3e">SyntaxTokenList</link>;
<anchor xml:id="__compiler_service_8cs_source_1l00206"/>00206 
<anchor xml:id="__compiler_service_8cs_source_1l00207"/>00207 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(compilationUnit&#32;is&#32;not&#32;<emphasis role="keyword">null</emphasis>)
<anchor xml:id="__compiler_service_8cs_source_1l00208"/>00208 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;resource.CompilationUnit&#32;=&#32;compilationUnit;
<anchor xml:id="__compiler_service_8cs_source_1l00209"/>00209 
<anchor xml:id="__compiler_service_8cs_source_1l00210"/>00210 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7cdeaada9bb0cceb5ebc1dfdc93d7bf5">_compilerServiceOptions</link>.OnAfterParseAction?.Invoke(resource,&#32;compilationUnit);
<anchor xml:id="__compiler_service_8cs_source_1l00211"/>00211 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00212"/>00212 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00213"/>00213 
<anchor xml:id="__compiler_service_8cs_source_1l00214"/>00214 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;diagnosticTextSpans&#32;=&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a3ba654e19024f187e9cc2372f1e03225">GetDiagnosticsFor</link>(modelModifier.<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_text_editor_model_modifier_1a6465f59aaf55b1526ce93857fd144619">ResourceUri</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00215"/>00215 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.Select(x&#32;=&gt;&#32;x.TextSpan)
<anchor xml:id="__compiler_service_8cs_source_1l00216"/>00216 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.ToImmutableArray();
<anchor xml:id="__compiler_service_8cs_source_1l00217"/>00217 
<anchor xml:id="__compiler_service_8cs_source_1l00218"/>00218 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modelModifier.<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_text_editor_model_modifier_1a22bc134c2cceaf341a33c334d00e3418">CompletePendingCalculatePresentationModel</link>(
<anchor xml:id="__compiler_service_8cs_source_1l00219"/>00219 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CompilerServiceDiagnosticPresentationFacts.PresentationKey,
<anchor xml:id="__compiler_service_8cs_source_1l00220"/>00220 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CompilerServiceDiagnosticPresentationFacts.EmptyPresentationModel,
<anchor xml:id="__compiler_service_8cs_source_1l00221"/>00221 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;diagnosticTextSpans);
<anchor xml:id="__compiler_service_8cs_source_1l00222"/>00222 
<anchor xml:id="__compiler_service_8cs_source_1l00223"/>00223 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;editContext.<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_i_text_editor_edit_context_1a88ea6b9c0a12d44730e133c864e28ac2">TextEditorService</link>.<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service_1ae3a0dbf71e296019f79700cb636fdf7e">ModelApi</link>.<link linkend="_interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1_1_i_text_editor_model_api_1af8c11820eca5383cd4643e474a28ad02">ApplySyntaxHighlighting</link>(
<anchor xml:id="__compiler_service_8cs_source_1l00224"/>00224 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;editContext,
<anchor xml:id="__compiler_service_8cs_source_1l00225"/>00225 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modelModifier);
<anchor xml:id="__compiler_service_8cs_source_1l00226"/>00226 
<anchor xml:id="__compiler_service_8cs_source_1l00227"/>00227 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1ac551d20b5a72c26273f45a88107b6569">OnResourceParsed</link>();
<anchor xml:id="__compiler_service_8cs_source_1l00228"/>00228 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00229"/>00229 
<anchor xml:id="__compiler_service_8cs_source_1l00230"/>00230 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;Task.CompletedTask;
<anchor xml:id="__compiler_service_8cs_source_1l00231"/>00231 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00232"/>00232 
<anchor xml:id="__compiler_service_8cs_source_1l00233"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a91099f01fb4007188e9cf48d765d0b97">00233</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a91099f01fb4007188e9cf48d765d0b97">DisposeResource</link>(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1a435ccef09e2ba83022e8cf378fc0f690">ResourceUri</link>&#32;<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00234"/>00234 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00235"/>00235 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lock&#32;(<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1aacbfc10c19501915f6e9a673827ac9b2">_resourceMapLock</link>)
<anchor xml:id="__compiler_service_8cs_source_1l00236"/>00236 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00237"/>00237 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a5198939dc464d61d3305283082417c01">_resourceMap</link>.Remove(<link linkend="_namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_1ae531f6ec8ec05e2493aabf8d17c23e4b">resourceUri</link>);
<anchor xml:id="__compiler_service_8cs_source_1l00238"/>00238 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00239"/>00239 
<anchor xml:id="__compiler_service_8cs_source_1l00240"/>00240 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1ac307ed107d8c33cd7aa06c55ab223ffa">OnResourceDisposed</link>();
<anchor xml:id="__compiler_service_8cs_source_1l00241"/>00241 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00242"/>00242 
<anchor xml:id="__compiler_service_8cs_source_1l00247"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a753231d4b5ba8db080e200d7412f3943">00247</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a753231d4b5ba8db080e200d7412f3943">OnResourceRegistered</link>()
<anchor xml:id="__compiler_service_8cs_source_1l00248"/>00248 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00249"/>00249 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a6299c8ef458a14b8d4309b1701735d8a">ResourceRegistered</link>?.Invoke();
<anchor xml:id="__compiler_service_8cs_source_1l00250"/>00250 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00251"/>00251 
<anchor xml:id="__compiler_service_8cs_source_1l00256"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1ac551d20b5a72c26273f45a88107b6569">00256</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1ac551d20b5a72c26273f45a88107b6569">OnResourceParsed</link>()
<anchor xml:id="__compiler_service_8cs_source_1l00257"/>00257 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00258"/>00258 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a1052400866541ef801c1ca2b180df004">ResourceParsed</link>?.Invoke();
<anchor xml:id="__compiler_service_8cs_source_1l00259"/>00259 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00260"/>00260 
<anchor xml:id="__compiler_service_8cs_source_1l00264"/><link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1ac307ed107d8c33cd7aa06c55ab223ffa">00264</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1ac307ed107d8c33cd7aa06c55ab223ffa">OnResourceDisposed</link>()
<anchor xml:id="__compiler_service_8cs_source_1l00265"/>00265 &#32;&#32;&#32;&#32;{
<anchor xml:id="__compiler_service_8cs_source_1l00266"/>00266 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_1a7f4283223d3276b1ca1309679fe97d39">ResourceDisposed</link>?.Invoke();
<anchor xml:id="__compiler_service_8cs_source_1l00267"/>00267 &#32;&#32;&#32;&#32;}
<anchor xml:id="__compiler_service_8cs_source_1l00268"/>00268 }
</programlisting></section>
