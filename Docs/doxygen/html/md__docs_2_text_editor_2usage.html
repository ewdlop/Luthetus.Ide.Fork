<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Luthetus.Ide: Luthetus.TextEditor (v2.1.0)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Luthetus.Ide<span id="projectnumber">&#160;1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__docs_2_text_editor_2usage.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Luthetus.TextEditor (v2.1.0) </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md203"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md204"></a>
Usage</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md205"></a>
Source Code</h2>
<p>The .NET Solution: <a href="../../Source/Tutorials/Luthetus.Tutorials.sln">Luthetus.Tutorials.sln</a>, was made by following steps described here. So, the completed result can be found there.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md206"></a>
Goal</h2>
<p><img src="../../Images/TextEditor/Gifs/text-editor-tutorial-result.gif" alt="tutorial_Usage-CSharpCompilerServiceTextEditor.gif" class="inline"/></p>
<ul>
<li>Render a C# Text Editor which makes use of the CSharpCompilerService</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md207"></a>
Steps</h2>
<ul>
<li>Create a codebehind for the file: <span class="tt">Pages/Index.razor</span></li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// Pages/Index.razor.cs</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using </span>Microsoft.AspNetCore.Components;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages.html">Luthetus.Tutorials.RazorLib.Pages</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">partial class </span>Index : ComponentBase</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="ttc" id="anamespace_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_html"><div class="ttname"><a href="namespace_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages.html">Luthetus.Tutorials.RazorLib.Pages</a></div><div class="ttdef"><b>Definition</b> <a href="_index_8razor_8cs_source.html#l00009">Index.razor.cs:9</a></div></div>
</div><!-- fragment --><ul>
<li>There are 2 parts to rendering a Text Editor.</li>
<li>First, one needs to make a <a href="/Source/Lib/TextEditor/TextEditors/Models/TextEditorModel.Constructors.cs">TextEditorModel</a>.</li>
<li>Then, one needs to make a <a href="/Source/Lib/TextEditor/TextEditors/Models/TextEditorViewModel.cs">TextEditorViewModel</a> for that previously made <span class="tt">model</span>.</li>
<li>In <a class="el" href="_index_8razor_8cs.html">Index.razor.cs</a> add the following line of code:</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// using Luthetus.TextEditor.RazorLib.Lexers.Models;</span></div>
<div class="line"><span class="keyword">public</span> <span class="keyword">static</span> ResourceUri ResourceUri { <span class="keyword">get</span>; } = <span class="keyword">new</span>(<span class="stringliteral">&quot;/index.txt&quot;</span>);</div>
</div><!-- fragment --><ul>
<li>The <a href="/Source/Lib/TextEditor/Lexers/Models/ResourceUri.cs">ResourceUri</a> is a unique identifier for a given <span class="tt">TextEditorModel</span>.</li>
<li>One might think of a <span class="tt">TextEditorModel</span> as mapping to a file on their filesystem, as an example.</li>
<li>Override the Blazor lifecycle method named: <span class="tt">OnInitialized()</span></li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnInitialized()</div>
<div class="line">{</div>
<div class="line">    base.OnInitialized();</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>Inside this override, and above the <span class="tt">base.OnInitialized();</span> invocation, we can register the <span class="tt">TextEditorModel</span>.</li>
<li>We need access to the <a href="/Source/Lib/TextEditor/ITextEditorService.cs">ITextEditorService</a> to register a <span class="tt">TextEditorModel</span>. So, inject the <span class="tt">ITextEditorService</span>.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// using Luthetus.TextEditor.RazorLib;</span></div>
<div class="line">[Inject]</div>
<div class="line"><span class="keyword">private</span> ITextEditorService TextEditorService { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">null</span>!;</div>
</div><!-- fragment --><ul>
<li>The <span class="tt">ITextEditorService</span> has public properties that encapsulate the API for a given datatype in the <span class="tt"><a class="el" href="namespace_luthetus_1_1_text_editor.html">Luthetus.TextEditor</a></span> namespace. For example, <span class="tt">TextEditorService.ModelApi</span> accesses the <span class="tt">ModelApi</span> property, which has all of the API related to the <span class="tt">TextEditorModel</span> datatype.</li>
<li>By invoking <span class="tt">TextEditorService.ModelApi.RegisterCustom(...);</span>, we can create register a TextEditorModel. The <span class="tt">RegisterCustom(...)</span> method takes as a parameter an instance of <span class="tt">TextEditorModel</span>. So we need to make that instance.</li>
<li>In the override for <span class="tt">OnInitialized()</span>, create an instance of a <span class="tt">TextEditorModel</span>. Then, pass it in to the <span class="tt">TextEditorService.Model.RegisterCustom(...)</span> invocation.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnInitialized()</div>
<div class="line">{</div>
<div class="line">    var model = <span class="keyword">new</span> TextEditorModel(</div>
<div class="line">            ResourceUri,</div>
<div class="line">            DateTime.UtcNow,</div>
<div class="line">            ExtensionNoPeriodFacts.TXT,</div>
<div class="line">            <span class="stringliteral">@&quot;public class MyClass</span></div>
<div class="line"><span class="stringliteral">{</span></div>
<div class="line"><span class="stringliteral">    public MyClass(string firstName, string lastName)</span></div>
<div class="line"><span class="stringliteral">    {</span></div>
<div class="line"><span class="stringliteral">        FirstName = firstName;</span></div>
<div class="line"><span class="stringliteral">        LastName = lastName;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    public string FirstName { get; set; }</span></div>
<div class="line"><span class="stringliteral">    public string LastName { get; set; }</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    public string DisplayName =&gt; $&quot;&quot;{{FirstName}} {LastName}&quot;&quot;;</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    public void SomeMethod(int arg1, MyClass arg2)</span></div>
<div class="line"><span class="stringliteral">    {</span></div>
<div class="line"><span class="stringliteral">        if (arg1 == 2)</span></div>
<div class="line"><span class="stringliteral">            return;</span></div>
<div class="line"><span class="stringliteral">        </span></div>
<div class="line"><span class="stringliteral">        return;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">}&quot;</span>,</div>
<div class="line">        decorationMapper: <span class="keyword">null</span>,</div>
<div class="line">        compilerService: <span class="keyword">null</span>);</div>
<div class="line"> </div>
<div class="line">    TextEditorService.<a class="code hl_property" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service.html#ae3a0dbf71e296019f79700cb636fdf7e">ModelApi</a>.RegisterCustom(model);</div>
<div class="line"> </div>
<div class="line">    base.OnInitialized();</div>
<div class="line">}</div>
<div class="ttc" id="ainterface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service_html_ae3a0dbf71e296019f79700cb636fdf7e"><div class="ttname"><a href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service.html#ae3a0dbf71e296019f79700cb636fdf7e">Luthetus.TextEditor.RazorLib.ITextEditorService.ModelApi</a></div><div class="ttdeci">ITextEditorModelApi ModelApi</div><div class="ttdef"><b>Definition</b> <a href="_i_text_editor_service_8cs_source.html#l00030">ITextEditorService.cs:30</a></div></div>
</div><!-- fragment --><ul>
<li>In order to render a <span class="tt">TextEditorModel</span>, we need a <a href="/Source/Lib/TextEditor/TextEditors/Models/TextEditorViewModel.cs">TextEditorViewModel</a>. A file on one's operating system would relate to a <span class="tt">model</span>. Whereas, an open text editor would relate to a <span class="tt">viewModel</span>.</li>
<li>Many <span class="tt">TextEditorViewModel</span> can reference an underlying <span class="tt">TextEditorModel</span>. But, only 1 <span class="tt">model</span> for a given file on one's operating system can exist.</li>
</ul>
<blockquote class="doxtable">
<p><em>NOTE:</em> I use an example of a operating system's file system but, it is just an example, one can make a TextEditorModel out of "thin air" if they'd like to. </p>
</blockquote>
<ul>
<li>We need a TextEditorViewModelKey so we can maintain the TextEditorViewModel state between page changes.</li>
<li>Add the following line of code:</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> Key&lt;TextEditorViewModel&gt; ViewModelKey { <span class="keyword">get</span>; } = Key&lt;TextEditorViewModel&gt;.NewKey();</div>
</div><!-- fragment --><ul>
<li>Now, in the override for <span class="tt">OnInitialized()</span>, invoke <span class="tt">TextEditorService.ViewModelApi.Register(...)</span>.</li>
</ul>
<blockquote class="doxtable">
<p><em>NOTE:</em> The argument 'Category' to 'TextEditorService.ViewModelApi.Register(...)' can be passed as 'new Category("main")'. It acts only as a way to filter a list of view models. </p>
</blockquote>
<div class="fragment"><div class="line">TextEditorService.<a class="code hl_property" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service.html#a7f1a64364e1d4be381e7ec6b7c6df127">ViewModelApi</a>.Register(</div>
<div class="line">    ViewModelKey,</div>
<div class="line">    ResourceUri,</div>
<div class="line">    <span class="keyword">new</span> Category(<span class="stringliteral">&quot;main&quot;</span>));</div>
<div class="ttc" id="ainterface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service_html_a7f1a64364e1d4be381e7ec6b7c6df127"><div class="ttname"><a href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service.html#a7f1a64364e1d4be381e7ec6b7c6df127">Luthetus.TextEditor.RazorLib.ITextEditorService.ViewModelApi</a></div><div class="ttdeci">ITextEditorViewModelApi ViewModelApi</div><div class="ttdef"><b>Definition</b> <a href="_i_text_editor_service_8cs_source.html#l00031">ITextEditorService.cs:31</a></div></div>
</div><!-- fragment --><ul>
<li>My <span class="tt"><a class="el" href="_index_8razor_8cs.html">Pages/Index.razor.cs</a></span> file as of this step looks as follows:</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">using </span>Microsoft.AspNetCore.Components;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_common_1_1_razor_lib_1_1_keys_1_1_models.html">Luthetus.Common.RazorLib.Keys.Models</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib.html">Luthetus.TextEditor.RazorLib</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html">Luthetus.TextEditor.RazorLib.TextEditors.Models</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_lexers_1_1_models.html">Luthetus.TextEditor.RazorLib.Lexers.Models</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces.html">Luthetus.TextEditor.RazorLib.CompilerServices.Interfaces</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models.html">Luthetus.TextEditor.RazorLib.Decorations.Models</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages.html">Luthetus.Tutorials.RazorLib.Pages</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">partial class </span>Index : ComponentBase</div>
<div class="line">{</div>
<div class="line">    [Inject]</div>
<div class="line">    <span class="keyword">private</span> <a class="code hl_interface" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service.html">ITextEditorService</a> <a class="code hl_class" href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editor_service.html">TextEditorService</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">null</span>!;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <a class="code hl_function" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_lexers_1_1_models.html#a26a1b63ad28ec7955b30bc6c91571eca">ResourceUri</a> <a class="code hl_function" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_lexers_1_1_models.html#a26a1b63ad28ec7955b30bc6c91571eca">ResourceUri</a> { <span class="keyword">get</span>; } = <span class="keyword">new</span>(<span class="stringliteral">&quot;/index.txt&quot;</span>);</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Key&lt;TextEditorViewModel&gt; <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index.html#a770714dac16773a3a106634fd3b2cb86">ViewModelKey</a> { <span class="keyword">get</span>; } = Key&lt;TextEditorViewModel&gt;.NewKey();</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index.html#a204441abf0cc26eebdce6fe385ae6033">OnInitialized</a>()</div>
<div class="line">    {</div>
<div class="line">        var model = <span class="keyword">new</span> TextEditorModel(</div>
<div class="line">            <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index.html#ae47782af3f22455df791ae11a8339f97">ResourceUri</a>,</div>
<div class="line">            DateTime.UtcNow,</div>
<div class="line">            ExtensionNoPeriodFacts.TXT,</div>
<div class="line">            <span class="stringliteral">@&quot;public class MyClass</span></div>
<div class="line"><span class="stringliteral">{</span></div>
<div class="line"><span class="stringliteral">    public MyClass(string firstName, string lastName)</span></div>
<div class="line"><span class="stringliteral">    {</span></div>
<div class="line"><span class="stringliteral">        FirstName = firstName;</span></div>
<div class="line"><span class="stringliteral">        LastName = lastName;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    public string FirstName { get; set; }</span></div>
<div class="line"><span class="stringliteral">    public string LastName { get; set; }</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    public string DisplayName =&gt; $&quot;&quot;{{FirstName}} {LastName}&quot;&quot;;</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    public void SomeMethod(int arg1, MyClass arg2)</span></div>
<div class="line"><span class="stringliteral">    {</span></div>
<div class="line"><span class="stringliteral">        if (arg1 == 2)</span></div>
<div class="line"><span class="stringliteral">            return;</span></div>
<div class="line"><span class="stringliteral">        </span></div>
<div class="line"><span class="stringliteral">        return;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">}&quot;</span>,</div>
<div class="line">        decorationMapper: <span class="keyword">null</span>,</div>
<div class="line">        compilerService: <span class="keyword">null</span>);</div>
<div class="line">    </div>
<div class="line">        TextEditorService.ModelApi.RegisterCustom(model);</div>
<div class="line">        </div>
<div class="line">        TextEditorService.ViewModelApi.Register(</div>
<div class="line">            <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index.html#a770714dac16773a3a106634fd3b2cb86">ViewModelKey</a>,</div>
<div class="line">            <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index.html#ae47782af3f22455df791ae11a8339f97">ResourceUri</a>,</div>
<div class="line">            <span class="keyword">new</span> <a class="code hl_property" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#ab53dfba5ef40ddaeca4b8982ea420fd1">Category</a>(<span class="stringliteral">&quot;main&quot;</span>));</div>
<div class="line">            </div>
<div class="line">        base.OnInitialized();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editor_service_html"><div class="ttname"><a href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editor_service.html">Luthetus.TextEditor.RazorLib.TextEditorService</a></div><div class="ttdef"><b>Definition</b> <a href="_text_editor_service_8_edit_context_8cs_source.html#l00010">TextEditorService.EditContext.cs:11</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index_html_a204441abf0cc26eebdce6fe385ae6033"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index.html#a204441abf0cc26eebdce6fe385ae6033">Luthetus.Tutorials.RazorLib.Pages.Index.OnInitialized</a></div><div class="ttdeci">override void OnInitialized()</div><div class="ttdef"><b>Definition</b> <a href="_index_8razor_8cs_source.html#l00023">Index.razor.cs:23</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index_html_a770714dac16773a3a106634fd3b2cb86"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index.html#a770714dac16773a3a106634fd3b2cb86">Luthetus.Tutorials.RazorLib.Pages.Index.ViewModelKey</a></div><div class="ttdeci">static Key&lt; TextEditorViewModel &gt; ViewModelKey</div><div class="ttdef"><b>Definition</b> <a href="_index_8razor_8cs_source.html#l00021">Index.razor.cs:21</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index_html_ae47782af3f22455df791ae11a8339f97"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_pages_1_1_index.html#ae47782af3f22455df791ae11a8339f97">Luthetus.Tutorials.RazorLib.Pages.Index.ResourceUri</a></div><div class="ttdeci">static ResourceUri ResourceUri</div><div class="ttdef"><b>Definition</b> <a href="_index_8razor_8cs_source.html#l00020">Index.razor.cs:20</a></div></div>
<div class="ttc" id="ainterface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service_html"><div class="ttname"><a href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service.html">Luthetus.TextEditor.RazorLib.ITextEditorService</a></div><div class="ttdef"><b>Definition</b> <a href="_i_text_editor_service_8cs_source.html#l00024">ITextEditorService.cs:25</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_common_1_1_razor_lib_1_1_keys_1_1_models_html"><div class="ttname"><a href="namespace_luthetus_1_1_common_1_1_razor_lib_1_1_keys_1_1_models.html">Luthetus.Common.RazorLib.Keys.Models</a></div><div class="ttdef"><b>Definition</b> <a href="_key_8cs_source.html#l00001">Key.cs:1</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_html"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces.html">Luthetus.TextEditor.RazorLib.CompilerServices.Interfaces</a></div><div class="ttdef"><b>Definition</b> <a href="_i_binder_8cs_source.html#l00008">IBinder.cs:8</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_html"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models.html">Luthetus.TextEditor.RazorLib.Decorations.Models</a></div><div class="ttdef"><b>Definition</b> <a href="_decoration_mapper_registry_default_01_8cs_source.html#l00005">DecorationMapperRegistryDefault .cs:5</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_lexers_1_1_models_html"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_lexers_1_1_models.html">Luthetus.TextEditor.RazorLib.Lexers.Models</a></div><div class="ttdef"><b>Definition</b> <a href="_resource_uri_8cs_source.html#l00001">ResourceUri.cs:1</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_lexers_1_1_models_html_a26a1b63ad28ec7955b30bc6c91571eca"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_lexers_1_1_models.html#a26a1b63ad28ec7955b30bc6c91571eca">Luthetus.TextEditor.RazorLib.Lexers.Models.ResourceUri</a></div><div class="ttdeci">record struct ResourceUri(string Value)</div><div class="ttdef"><b>Definition</b> <a href="_resource_uri_8cs_source.html#l00003">ResourceUri.cs:3</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_html"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html">Luthetus.TextEditor.RazorLib.TextEditors.Models</a></div><div class="ttdef"><b>Definition</b> <a href="_category_8cs_source.html#l00001">Category.cs:1</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_html_ab53dfba5ef40ddaeca4b8982ea420fd1"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#ab53dfba5ef40ddaeca4b8982ea420fd1">Luthetus.TextEditor.RazorLib.TextEditors.Models.Category</a></div><div class="ttdeci">Category Category</div><div class="ttdef"><b>Definition</b> <a href="_text_editor_view_model_8cs_source.html#l00132">TextEditorViewModel.cs:132</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_html"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib.html">Luthetus.TextEditor.RazorLib</a></div><div class="ttdef"><b>Definition</b> <a href="_autocomplete_entry_8cs_source.html#l00001">AutocompleteEntry.cs:1</a></div></div>
</div><!-- fragment --><ul>
<li>In the .razor markup (<span class="tt">Pages/Index.razor</span>) render the Blazor component: <span class="tt">&lt;<a class="el" href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_displays_1_1_text_editor_view_model_display.html">Luthetus.TextEditor.RazorLib.TextEditors.Displays.TextEditorViewModelDisplay</a>/&gt;</span></li>
<li>This component takes various parameters, but only one of them is required. The rest of the parameters are for customization.</li>
<li>Pass in the required parameter <span class="tt">TextEditorViewModelKey</span> to have the value of the <span class="tt">TextEditorViewModelKey</span> property from the codebehind.</li>
</ul>
<div class="fragment"><div class="line">@page <span class="stringliteral">&quot;/&quot;</span></div>
<div class="line"> </div>
<div class="line">@<span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_displays.html">Luthetus.TextEditor.RazorLib.TextEditors.Displays</a>;</div>
<div class="line"> </div>
<div class="line">&lt;PageTitle&gt;Index&lt;/PageTitle&gt;</div>
<div class="line"> </div>
<div class="line">&lt;h1&gt;Hello, world!&lt;/h1&gt;</div>
<div class="line"> </div>
<div class="line">Welcome to your <span class="keyword">new</span> <a class="code hl_variable" href="_lib_2_ide_2_host_8_blazor_server_side_2_program_8cs.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>.</div>
<div class="line"> </div>
<div class="line">&lt;<a class="code hl_class" href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_displays_1_1_text_editor_view_model_display.html">TextEditorViewModelDisplay</a> TextEditorViewModelKey=<span class="stringliteral">&quot;ViewModelKey&quot;</span> /&gt;</div>
<div class="ttc" id="a_lib_2_ide_2_host_8_blazor_server_side_2_program_8cs_html_a7b225fcb720e4d5ed2bbf60e28a25e6d"><div class="ttname"><a href="_lib_2_ide_2_host_8_blazor_server_side_2_program_8cs.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a></div><div class="ttdeci">var app</div><div class="ttdef"><b>Definition</b> <a href="_lib_2_ide_2_host_8_blazor_server_side_2_program_8cs_source.html#l00020">Program.cs:20</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_displays_1_1_text_editor_view_model_display_html"><div class="ttname"><a href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_displays_1_1_text_editor_view_model_display.html">Luthetus.TextEditor.RazorLib.TextEditors.Displays.TextEditorViewModelDisplay</a></div><div class="ttdef"><b>Definition</b> <a href="_text_editor_view_model_display_8razor_8cs_source.html#l00029">TextEditorViewModelDisplay.razor.cs:30</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_displays_html"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_displays.html">Luthetus.TextEditor.RazorLib.TextEditors.Displays</a></div><div class="ttdef"><b>Definition</b> <a href="_autocomplete_menu_8razor_8cs_source.html#l00017">AutocompleteMenu.razor.cs:17</a></div></div>
</div><!-- fragment --><ul>
<li>A plain text editor without syntax highlighting should render now when the app is ran.</li>
</ul>
<p><img src="../../Images/TextEditor/Gifs/text-editor-tutorial-midway.gif" alt="tutorial_Usage-CSharpCompilerServiceTextEditor.gif" class="inline"/></p>
<blockquote class="doxtable">
<p><em>NOTE:</em> Height of the text editor is 100% of the parent element. In the Blazor default project template one needs the following: </p>
</blockquote>
<div class="fragment"><div class="line"> html</div>
<div class="line">&lt;!-- Example for more height in the Blazor default project template (this is not an example of ideal responsive UI css but it gets across the idea and one can customize as needed.) --&gt;</div>
<div class="line"> </div>
<div class="line">&lt;!-- Index.razor --&gt;</div>
<div class="line"> </div>
<div class="line">@page &quot;/&quot;</div>
<div class="line"> </div>
<div class="line">@using Luthetus.TextEditor.RazorLib.TextEditors.Displays;</div>
<div class="line"> </div>
<div class="line">&lt;PageTitle&gt;Index&lt;/PageTitle&gt;</div>
<div class="line"> </div>
<div class="line">&lt;div style=&quot;height: 5em;&quot;&gt;</div>
<div class="line">    &lt;h1&gt;Hello, world!&lt;/h1&gt;</div>
<div class="line">    </div>
<div class="line">    Welcome to your new app.</div>
<div class="line">&lt;/div&gt;</div>
<div class="line"> </div>
<div class="line">@* 10px for padding *@</div>
<div class="line">&lt;div style=&quot;height: calc(100% - 5em - 10px);&quot;&gt;</div>
<div class="line">    &lt;TextEditorViewModelDisplay TextEditorViewModelKey=&quot;ViewModelKey&quot;/&gt;</div>
<div class="line">&lt;/div&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line"> html</div>
<div class="line">&lt;!-- Example for more height in the Blazor default project template (this is not an example of ideal responsive UI css but it gets across the idea and one can customize as needed.) --&gt;</div>
<div class="line"> </div>
<div class="line">&lt;!-- MainLayout.razor --&gt;</div>
<div class="line"> </div>
<div class="line">@inherits LayoutComponentBase</div>
<div class="line"> </div>
<div class="line">&lt;PageTitle&gt;Luthetus.Tutorials&lt;/PageTitle&gt;</div>
<div class="line"> </div>
<div class="line">&lt;div class=&quot;page&quot;&gt;</div>
<div class="line">    &lt;div class=&quot;sidebar&quot;&gt;</div>
<div class="line">        &lt;NavMenu /&gt;</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;main&gt;</div>
<div class="line">        &lt;div class=&quot;top-row px-4&quot;&gt;</div>
<div class="line">            &lt;a href=&quot;https://docs.microsoft.com/aspnet/&quot; target=&quot;_blank&quot;&gt;About&lt;/a&gt;</div>
<div class="line">        &lt;/div&gt;</div>
<div class="line"> </div>
<div class="line">        &lt;!-- THE CHANGE IS HERE TO THE STYLE ATTRIBUTE OF THE ARTCILE ELEMENT. 56px is the height of the top-row. --&gt;</div>
<div class="line">        &lt;article class=&quot;content px-4&quot; style=&quot;height: calc(100% - 56px);&quot;&gt;</div>
<div class="line">            @Body</div>
<div class="line">        &lt;/article&gt;</div>
<div class="line">    &lt;/main&gt;</div>
<div class="line">&lt;/div&gt;</div>
</div><!-- fragment --><p><img src="../../Images/TextEditor/Gifs/text-editor-tutorial-resize.gif" alt="tutorial_Usage-CSharpCompilerServiceTextEditor.gif" class="inline"/></p>
<ul>
<li>Now we can add in the C# Compiler Service.</li>
<li>Reference the <span class="tt"><a class="el" href="namespace_luthetus_1_1_compiler_services_1_1_c_sharp.html">Luthetus.CompilerServices.CSharp</a></span> Nuget Package</li>
</ul>
<p>Go to the file that you register your services and add the following lines of C# code.</p>
<div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces.html">Luthetus.TextEditor.RazorLib.CompilerServices.Interfaces</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models.html">Luthetus.TextEditor.RazorLib.Decorations.Models</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NOTE: the next step creates the implementations</span></div>
<div class="line">services</div>
<div class="line">    .AddScoped&lt;<a class="code hl_interface" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_registry.html">ICompilerServiceRegistry</a>, CompilerServiceRegistry&gt;()</div>
<div class="line">    .<a class="code hl_function" href="_lib_2_ide_2_host_8_blazor_web_assembly_2_program_8cs.html#ad23e038402085511bf6d150f155199f9">AddScoped&lt;IDecorationMapperRegistry, DecorationMapperRegistry&gt;</a>();</div>
<div class="ttc" id="a_lib_2_ide_2_host_8_blazor_web_assembly_2_program_8cs_html_ad23e038402085511bf6d150f155199f9"><div class="ttname"><a href="_lib_2_ide_2_host_8_blazor_web_assembly_2_program_8cs.html#ad23e038402085511bf6d150f155199f9">AddScoped</a></div><div class="ttdeci">builder.Services. AddScoped(sp=&gt; new HttpClient { BaseAddress=new Uri(builder.HostEnvironment.BaseAddress) })</div></div>
<div class="ttc" id="ainterface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_registry_html"><div class="ttname"><a href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_registry.html">Luthetus.TextEditor.RazorLib.CompilerServices.Interfaces.ICompilerServiceRegistry</a></div><div class="ttdef"><b>Definition</b> <a href="_i_compiler_service_registry_8cs_source.html#l00005">ICompilerServiceRegistry.cs:6</a></div></div>
</div><!-- fragment --><p>Add CompilerServiceRegistry.cs as follows: </p><div class="fragment"><div class="line"><span class="keyword">using </span>System.Collections.Immutable;</div>
<div class="line"><span class="keyword">using </span>Fluxor;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_common_1_1_razor_lib_1_1_file_systems_1_1_models.html">Luthetus.Common.RazorLib.FileSystems.Models</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib.html">Luthetus.TextEditor.RazorLib</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations.html">Luthetus.TextEditor.RazorLib.CompilerServices.Implementations</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces.html">Luthetus.TextEditor.RazorLib.CompilerServices.Interfaces</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html">Luthetus.TextEditor.RazorLib.TextEditors.Models</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_compiler_services_1_1_c_sharp_1_1_compiler_service_case.html">Luthetus.CompilerServices.CSharp.CompilerServiceCase</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services.html">Luthetus.Tutorials.RazorLib.CompilerServices</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>CompilerServiceRegistry : <a class="code hl_interface" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_registry.html">ICompilerServiceRegistry</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">private</span> readonly Dictionary&lt;string, ICompilerService&gt; _map = <span class="keyword">new</span>();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> ImmutableDictionary&lt;string, ICompilerService&gt; <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#adee43cc7a37d9a72a805c15d97a421cf">Map</a> =&gt; _map.ToImmutableDictionary();</div>
<div class="line">    <span class="keyword">public</span> ImmutableList&lt;ICompilerService&gt; <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#adeab66bb5ce7d1f1dcc263d6a9dd596d">CompilerServiceList</a> =&gt; _map.Select(x =&gt; x.Value).ToImmutableList();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <a class="code hl_function" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#aac01aaffa86300d0e5099c4679080ccb">CompilerServiceRegistry</a>(<a class="code hl_interface" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service.html">ITextEditorService</a> <a class="code hl_variable" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#aecfb76d19da117c025734259242d144d">textEditorService</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_class" href="class_luthetus_1_1_compiler_services_1_1_c_sharp_1_1_compiler_service_case_1_1_c_sharp_compiler_service.html">CSharpCompilerService</a> = <span class="keyword">new</span> <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#af802fa84ba745c84598ae2cd09902ef1">CSharpCompilerService</a>(<a class="code hl_variable" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#aecfb76d19da117c025734259242d144d">textEditorService</a>);</div>
<div class="line">        <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#ab1574cb7ed81bc2d59bf37ddda43d052">DefaultCompilerService</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service.html">CompilerService</a>(<a class="code hl_variable" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#aecfb76d19da117c025734259242d144d">textEditorService</a>);</div>
<div class="line">        </div>
<div class="line">        _map.Add(ExtensionNoPeriodFacts.C_SHARP_CLASS, <a class="code hl_class" href="class_luthetus_1_1_compiler_services_1_1_c_sharp_1_1_compiler_service_case_1_1_c_sharp_compiler_service.html">CSharpCompilerService</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <a class="code hl_class" href="class_luthetus_1_1_compiler_services_1_1_c_sharp_1_1_compiler_service_case_1_1_c_sharp_compiler_service.html">CSharpCompilerService</a> <a class="code hl_class" href="class_luthetus_1_1_compiler_services_1_1_c_sharp_1_1_compiler_service_case_1_1_c_sharp_compiler_service.html">CSharpCompilerService</a> { <span class="keyword">get</span>; }</div>
<div class="line">    <span class="keyword">public</span> CompilerService <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#ab1574cb7ed81bc2d59bf37ddda43d052">DefaultCompilerService</a> { <span class="keyword">get</span>; }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> ICompilerService <a class="code hl_function" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#a8ceeb143d2a3f5073f65d1e0a5b6f8a2">GetCompilerService</a>(<span class="keywordtype">string</span> extensionNoPeriod)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (_map.TryGetValue(extensionNoPeriod, out var compilerService))</div>
<div class="line">            <span class="keywordflow">return</span> compilerService;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#ab1574cb7ed81bc2d59bf37ddda43d052">DefaultCompilerService</a>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_luthetus_1_1_compiler_services_1_1_c_sharp_1_1_compiler_service_case_1_1_c_sharp_compiler_service_html"><div class="ttname"><a href="class_luthetus_1_1_compiler_services_1_1_c_sharp_1_1_compiler_service_case_1_1_c_sharp_compiler_service.html">Luthetus.CompilerServices.CSharp.CompilerServiceCase.CSharpCompilerService</a></div><div class="ttdef"><b>Definition</b> <a href="_c_sharp_compiler_service_8cs_source.html#l00016">CSharpCompilerService.cs:17</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service_html"><div class="ttname"><a href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_compiler_service.html">Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.CompilerService</a></div><div class="ttdef"><b>Definition</b> <a href="_compiler_service_8cs_source.html#l00013">CompilerService.cs:14</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry_html_a8ceeb143d2a3f5073f65d1e0a5b6f8a2"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#a8ceeb143d2a3f5073f65d1e0a5b6f8a2">Luthetus.Tutorials.RazorLib.CompilerServices.CompilerServiceRegistry.GetCompilerService</a></div><div class="ttdeci">ICompilerService GetCompilerService(string extensionNoPeriod)</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_compiler_services_2_compiler_service_registry_8cs_source.html#l00030">CompilerServiceRegistry.cs:30</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry_html_aac01aaffa86300d0e5099c4679080ccb"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#aac01aaffa86300d0e5099c4679080ccb">Luthetus.Tutorials.RazorLib.CompilerServices.CompilerServiceRegistry.CompilerServiceRegistry</a></div><div class="ttdeci">CompilerServiceRegistry(ITextEditorService textEditorService)</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_compiler_services_2_compiler_service_registry_8cs_source.html#l00019">CompilerServiceRegistry.cs:19</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry_html_ab1574cb7ed81bc2d59bf37ddda43d052"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#ab1574cb7ed81bc2d59bf37ddda43d052">Luthetus.Tutorials.RazorLib.CompilerServices.CompilerServiceRegistry.DefaultCompilerService</a></div><div class="ttdeci">CompilerService DefaultCompilerService</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_compiler_services_2_compiler_service_registry_8cs_source.html#l00028">CompilerServiceRegistry.cs:28</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry_html_adeab66bb5ce7d1f1dcc263d6a9dd596d"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#adeab66bb5ce7d1f1dcc263d6a9dd596d">Luthetus.Tutorials.RazorLib.CompilerServices.CompilerServiceRegistry.CompilerServiceList</a></div><div class="ttdeci">ImmutableList&lt; ICompilerService &gt; CompilerServiceList</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_compiler_services_2_compiler_service_registry_8cs_source.html#l00017">CompilerServiceRegistry.cs:17</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry_html_adee43cc7a37d9a72a805c15d97a421cf"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#adee43cc7a37d9a72a805c15d97a421cf">Luthetus.Tutorials.RazorLib.CompilerServices.CompilerServiceRegistry.Map</a></div><div class="ttdeci">ImmutableDictionary&lt; string, ICompilerService &gt; Map</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_compiler_services_2_compiler_service_registry_8cs_source.html#l00016">CompilerServiceRegistry.cs:16</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry_html_af802fa84ba745c84598ae2cd09902ef1"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_1_1_compiler_service_registry.html#af802fa84ba745c84598ae2cd09902ef1">Luthetus.Tutorials.RazorLib.CompilerServices.CompilerServiceRegistry.CSharpCompilerService</a></div><div class="ttdeci">CSharpCompilerService CSharpCompilerService</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_compiler_services_2_compiler_service_registry_8cs_source.html#l00027">CompilerServiceRegistry.cs:27</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_common_1_1_razor_lib_1_1_file_systems_1_1_models_html"><div class="ttname"><a href="namespace_luthetus_1_1_common_1_1_razor_lib_1_1_file_systems_1_1_models.html">Luthetus.Common.RazorLib.FileSystems.Models</a></div><div class="ttdef"><b>Definition</b> <a href="_ancestor_directory_8cs_source.html#l00001">AncestorDirectory.cs:1</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_compiler_services_1_1_c_sharp_1_1_compiler_service_case_html"><div class="ttname"><a href="namespace_luthetus_1_1_compiler_services_1_1_c_sharp_1_1_compiler_service_case.html">Luthetus.CompilerServices.CSharp.CompilerServiceCase</a></div><div class="ttdef"><b>Definition</b> <a href="_c_sharp_compiler_service_8cs_source.html#l00014">CSharpCompilerService.cs:14</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_html"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations.html">Luthetus.TextEditor.RazorLib.CompilerServices.Implementations</a></div><div class="ttdef"><b>Definition</b> <a href="_binder_session_8cs_source.html#l00008">BinderSession.cs:8</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_html_aecfb76d19da117c025734259242d144d"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#aecfb76d19da117c025734259242d144d">Luthetus.TextEditor.RazorLib.TextEditors.Models.textEditorService</a></div><div class="ttdeci">record ResourceUri ITextEditorService textEditorService</div><div class="ttdef"><b>Definition</b> <a href="_text_editor_view_model_8cs_source.html#l00033">TextEditorViewModel.cs:33</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services_html"><div class="ttname"><a href="namespace_luthetus_1_1_tutorials_1_1_razor_lib_1_1_compiler_services.html">Luthetus.Tutorials.RazorLib.CompilerServices</a></div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_compiler_services_2_compiler_service_registry_8cs_source.html#l00010">CompilerServiceRegistry.cs:10</a></div></div>
</div><!-- fragment --><p>Add DecorationMapperRegistry.cs as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">using </span>System.Collections.Immutable;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_generic_lexer_1_1_decoration.html">Luthetus.TextEditor.RazorLib.CompilerServices.GenericLexer.Decoration</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models.html">Luthetus.TextEditor.RazorLib.Decorations.Models</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html">Luthetus.TextEditor.RazorLib.TextEditors.Models</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations.html">Luthetus.Tutorials.RazorLib.Decorations</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>DecorationMapperRegistry : <a class="code hl_interface" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_i_decoration_mapper_registry.html">IDecorationMapperRegistry</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">private</span> Dictionary&lt;string, IDecorationMapper&gt; _map { <span class="keyword">get</span>; } = <span class="keyword">new</span>();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> ImmutableDictionary&lt;string, IDecorationMapper&gt; <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#afdc8b87c7dedd8975c6b0a592d60d6ff">Map</a> =&gt; _map.ToImmutableDictionary();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <a class="code hl_function" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#a72d2861442aa20e7640c6a8f7886ddbf">DecorationMapperRegistry</a>()</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_class" href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_generic_lexer_1_1_decorat78ccafb1ce12678be58e76a7e584cb2d.html">GenericDecorationMapper</a> = <span class="keyword">new</span> <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#a7e065848d077fd2f732f1df95208a7a1">GenericDecorationMapper</a>();</div>
<div class="line">        <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#ac6547c6cf0d218b298391b09fd442c98">DefaultDecorationMapper</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_text_editor_decoration_mapper_default.html">TextEditorDecorationMapperDefault</a>();</div>
<div class="line"> </div>
<div class="line">        _map.Add(ExtensionNoPeriodFacts.C_SHARP_CLASS, <a class="code hl_class" href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_generic_lexer_1_1_decorat78ccafb1ce12678be58e76a7e584cb2d.html">GenericDecorationMapper</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#a7e065848d077fd2f732f1df95208a7a1">GenericDecorationMapper</a> <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#a7e065848d077fd2f732f1df95208a7a1">GenericDecorationMapper</a> { <span class="keyword">get</span>; }</div>
<div class="line">    <span class="keyword">public</span> TextEditorDecorationMapperDefault <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#ac6547c6cf0d218b298391b09fd442c98">DefaultDecorationMapper</a> { <span class="keyword">get</span>; }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> IDecorationMapper <a class="code hl_function" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#a1069e4f2db87d066cfc1ccde11e851ff">GetDecorationMapper</a>(<span class="keywordtype">string</span> extensionNoPeriod)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (_map.TryGetValue(extensionNoPeriod, out var decorationMapper))</div>
<div class="line">            <span class="keywordflow">return</span> decorationMapper;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_property" href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#ac6547c6cf0d218b298391b09fd442c98">DefaultDecorationMapper</a>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_generic_lexer_1_1_decorat78ccafb1ce12678be58e76a7e584cb2d_html"><div class="ttname"><a href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_generic_lexer_1_1_decorat78ccafb1ce12678be58e76a7e584cb2d.html">Luthetus.TextEditor.RazorLib.CompilerServices.GenericLexer.Decoration.GenericDecorationMapper</a></div><div class="ttdef"><b>Definition</b> <a href="_generic_decoration_mapper_8cs_source.html#l00005">GenericDecorationMapper.cs:6</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_text_editor_decoration_mapper_default_html"><div class="ttname"><a href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_text_editor_decoration_mapper_default.html">Luthetus.TextEditor.RazorLib.Decorations.Models.TextEditorDecorationMapperDefault</a></div><div class="ttdef"><b>Definition</b> <a href="_text_editor_decoration_mapper_default_8cs_source.html#l00003">TextEditorDecorationMapperDefault.cs:4</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry_html_a1069e4f2db87d066cfc1ccde11e851ff"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#a1069e4f2db87d066cfc1ccde11e851ff">Luthetus.Tutorials.RazorLib.Decorations.DecorationMapperRegistry.GetDecorationMapper</a></div><div class="ttdeci">IDecorationMapper GetDecorationMapper(string extensionNoPeriod)</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_decorations_2_decoration_mapper_registry_8cs_source.html#l00025">DecorationMapperRegistry.cs:25</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry_html_a72d2861442aa20e7640c6a8f7886ddbf"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#a72d2861442aa20e7640c6a8f7886ddbf">Luthetus.Tutorials.RazorLib.Decorations.DecorationMapperRegistry.DecorationMapperRegistry</a></div><div class="ttdeci">DecorationMapperRegistry()</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_decorations_2_decoration_mapper_registry_8cs_source.html#l00014">DecorationMapperRegistry.cs:14</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry_html_a7e065848d077fd2f732f1df95208a7a1"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#a7e065848d077fd2f732f1df95208a7a1">Luthetus.Tutorials.RazorLib.Decorations.DecorationMapperRegistry.GenericDecorationMapper</a></div><div class="ttdeci">GenericDecorationMapper GenericDecorationMapper</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_decorations_2_decoration_mapper_registry_8cs_source.html#l00022">DecorationMapperRegistry.cs:22</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry_html_ac6547c6cf0d218b298391b09fd442c98"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#ac6547c6cf0d218b298391b09fd442c98">Luthetus.Tutorials.RazorLib.Decorations.DecorationMapperRegistry.DefaultDecorationMapper</a></div><div class="ttdeci">TextEditorDecorationMapperDefault DefaultDecorationMapper</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_decorations_2_decoration_mapper_registry_8cs_source.html#l00023">DecorationMapperRegistry.cs:23</a></div></div>
<div class="ttc" id="aclass_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry_html_afdc8b87c7dedd8975c6b0a592d60d6ff"><div class="ttname"><a href="class_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_1_1_decoration_mapper_registry.html#afdc8b87c7dedd8975c6b0a592d60d6ff">Luthetus.Tutorials.RazorLib.Decorations.DecorationMapperRegistry.Map</a></div><div class="ttdeci">ImmutableDictionary&lt; string, IDecorationMapper &gt; Map</div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_decorations_2_decoration_mapper_registry_8cs_source.html#l00012">DecorationMapperRegistry.cs:12</a></div></div>
<div class="ttc" id="ainterface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_i_decoration_mapper_registry_html"><div class="ttname"><a href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_i_decoration_mapper_registry.html">Luthetus.TextEditor.RazorLib.Decorations.Models.IDecorationMapperRegistry</a></div><div class="ttdef"><b>Definition</b> <a href="_i_decoration_mapper_registry_8cs_source.html#l00003">IDecorationMapperRegistry.cs:4</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_generic_lexer_1_1_decoration_html"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_generic_lexer_1_1_decoration.html">Luthetus.TextEditor.RazorLib.CompilerServices.GenericLexer.Decoration</a></div><div class="ttdef"><b>Definition</b> <a href="_generic_decoration_kind_8cs_source.html#l00001">GenericDecorationKind.cs:1</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations_html"><div class="ttname"><a href="namespace_luthetus_1_1_tutorials_1_1_razor_lib_1_1_decorations.html">Luthetus.Tutorials.RazorLib.Decorations</a></div><div class="ttdef"><b>Definition</b> <a href="_tutorials_2_razor_lib_2_decorations_2_decoration_mapper_registry_8cs_source.html#l00006">DecorationMapperRegistry.cs:6</a></div></div>
</div><!-- fragment --><ul>
<li>In the <span class="tt"><a class="el" href="_index_8razor_8cs.html">Pages/Index.razor.cs</a></span> file we now can provide the <span class="tt">CSharpCompilerService</span> when instantiating a <span class="tt">TextEditorModel</span>.</li>
<li>Inject the <span class="tt">ICompilerServiceRegistry</span> and the <span class="tt">IDecorationMapperRegistry</span></li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// using Luthetus.TextEditor.RazorLib.CompilerServices.Interfaces;</span></div>
<div class="line"><span class="comment">// using Luthetus.TextEditor.RazorLib.Decorations.Models;</span></div>
<div class="line"> </div>
<div class="line">[Inject]</div>
<div class="line"><span class="keyword">private</span> <a class="code hl_interface" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_registry.html">ICompilerServiceRegistry</a> CompilerServiceRegistry { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">null</span>!;</div>
<div class="line">[Inject]</div>
<div class="line"><span class="keyword">private</span> <a class="code hl_interface" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_i_decoration_mapper_registry.html">IDecorationMapperRegistry</a> DecorationMapperRegistry { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">null</span>!;</div>
</div><!-- fragment --><ul>
<li>In <span class="tt">OnInitialized()</span>, prior to constructing the <span class="tt">TextEditorModel</span> we can get the decoration mapper, and compiler service we wish to use.</li>
</ul>
<div class="fragment"><div class="line">var genericDecorationMapper = DecorationMapperRegistry.<a class="code hl_function" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_i_decoration_mapper_registry.html#a000cd34558000251f2c3959104d80a8e">GetDecorationMapper</a>(</div>
<div class="line">    ExtensionNoPeriodFacts.C_SHARP_CLASS);</div>
<div class="line"> </div>
<div class="line">var cSharpCompilerService = CompilerServiceRegistry.<a class="code hl_function" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_registry.html#a1682cc381e8bdb2a94cedcb62c90f075">GetCompilerService</a>(</div>
<div class="line">    ExtensionNoPeriodFacts.C_SHARP_CLASS);</div>
<div class="ttc" id="ainterface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_registry_html_a1682cc381e8bdb2a94cedcb62c90f075"><div class="ttname"><a href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_registry.html#a1682cc381e8bdb2a94cedcb62c90f075">Luthetus.TextEditor.RazorLib.CompilerServices.Interfaces.ICompilerServiceRegistry.GetCompilerService</a></div><div class="ttdeci">ICompilerService GetCompilerService(string extensionNoPeriod)</div></div>
<div class="ttc" id="ainterface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_i_decoration_mapper_registry_html_a000cd34558000251f2c3959104d80a8e"><div class="ttname"><a href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_i_decoration_mapper_registry.html#a000cd34558000251f2c3959104d80a8e">Luthetus.TextEditor.RazorLib.Decorations.Models.IDecorationMapperRegistry.GetDecorationMapper</a></div><div class="ttdeci">IDecorationMapper GetDecorationMapper(string extensionNoPeriod)</div></div>
</div><!-- fragment --><ul>
<li>Then pass in <span class="tt">genericDecorationMapper</span> and <span class="tt">cSharpCompilerService</span> instead of the nulls when invoking the <span class="tt">TextEditorModel</span> constructor.</li>
<li>One last step, on the line immediately following, <span class="tt">TextEditorService.ModelApi.RegisterCustom(model);</span> add the line: <span class="tt">cSharpCompilerService.RegisterResource(model.ResourceUri, shouldTriggerResourceWasModified: true);</span></li>
<li>My <span class="tt"><a class="el" href="_index_8razor_8cs.html">Pages/Index.razor.cs</a></span> file as of this step is shown in the following code snippet:</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_common_1_1_razor_lib_1_1_keys_1_1_models.html">Luthetus.Common.RazorLib.Keys.Models</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib.html">Luthetus.TextEditor.RazorLib</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces.html">Luthetus.TextEditor.RazorLib.CompilerServices.Interfaces</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models.html">Luthetus.TextEditor.RazorLib.Decorations.Models</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_lexers_1_1_models.html">Luthetus.TextEditor.RazorLib.Lexers.Models</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html">Luthetus.TextEditor.RazorLib.TextEditors.Models</a>;</div>
<div class="line"><span class="keyword">using </span>Microsoft.AspNetCore.Components;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>NugetPackageTest.Pages;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">partial class </span>Home : ComponentBase</div>
<div class="line">{</div>
<div class="line">    [Inject]</div>
<div class="line">    <span class="keyword">private</span> <a class="code hl_interface" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service.html">ITextEditorService</a> <a class="code hl_class" href="class_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editor_service.html">TextEditorService</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">null</span>!;</div>
<div class="line">    [Inject]</div>
<div class="line">    <span class="keyword">private</span> <a class="code hl_interface" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_registry.html">ICompilerServiceRegistry</a> CompilerServiceRegistry { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">null</span>!;</div>
<div class="line">    [Inject]</div>
<div class="line">    <span class="keyword">private</span> IDecorationMapperRegistry DecorationMapperRegistry { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">null</span>!;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <a class="code hl_property" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#a435ccef09e2ba83022e8cf378fc0f690">ResourceUri</a> <a class="code hl_property" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#a435ccef09e2ba83022e8cf378fc0f690">ResourceUri</a> { <span class="keyword">get</span>; } = <span class="keyword">new</span>(<span class="stringliteral">&quot;/index.txt&quot;</span>);</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Key&lt;TextEditorViewModel&gt; <a class="code hl_property" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#af610e3ee35a4bcf6e9fb84479d570b95">ViewModelKey</a> { <span class="keyword">get</span>; } = Key&lt;TextEditorViewModel&gt;.NewKey();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnInitialized()</div>
<div class="line">    {</div>
<div class="line">        var genericDecorationMapper = DecorationMapperRegistry.<a class="code hl_function" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_decorations_1_1_models_1_1_i_decoration_mapper_registry.html#a000cd34558000251f2c3959104d80a8e">GetDecorationMapper</a>(</div>
<div class="line">            ExtensionNoPeriodFacts.C_SHARP_CLASS);</div>
<div class="line"> </div>
<div class="line">        var cSharpCompilerService = CompilerServiceRegistry.<a class="code hl_function" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_compiler_service_registry.html#a1682cc381e8bdb2a94cedcb62c90f075">GetCompilerService</a>(</div>
<div class="line">            ExtensionNoPeriodFacts.C_SHARP_CLASS);</div>
<div class="line"> </div>
<div class="line">        var model = <span class="keyword">new</span> TextEditorModel(</div>
<div class="line">                ResourceUri,</div>
<div class="line">                DateTime.UtcNow,</div>
<div class="line">                ExtensionNoPeriodFacts.TXT,</div>
<div class="line">                <span class="stringliteral">@&quot;public class MyClass</span></div>
<div class="line"><span class="stringliteral">{</span></div>
<div class="line"><span class="stringliteral">    public MyClass(string firstName, string lastName)</span></div>
<div class="line"><span class="stringliteral">    {</span></div>
<div class="line"><span class="stringliteral">        FirstName = firstName;</span></div>
<div class="line"><span class="stringliteral">        LastName = lastName;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    public string FirstName { get; set; }</span></div>
<div class="line"><span class="stringliteral">    public string LastName { get; set; }</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    public string DisplayName =&gt; $&quot;&quot;{{FirstName}} {LastName}&quot;&quot;;</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    public void SomeMethod(int arg1, MyClass arg2)</span></div>
<div class="line"><span class="stringliteral">    {</span></div>
<div class="line"><span class="stringliteral">        if (arg1 == 2)</span></div>
<div class="line"><span class="stringliteral">            return;</span></div>
<div class="line"><span class="stringliteral">        </span></div>
<div class="line"><span class="stringliteral">        return;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">}&quot;</span>,</div>
<div class="line">            genericDecorationMapper,</div>
<div class="line">            cSharpCompilerService);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_property" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#abe7fad0a7df96f414b675b6af70f260d">TextEditorService</a>.<a class="code hl_property" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service.html#ae3a0dbf71e296019f79700cb636fdf7e">ModelApi</a>.RegisterCustom(model);</div>
<div class="line"> </div>
<div class="line">        cSharpCompilerService.RegisterResource(model.ResourceUri, shouldTriggerResourceWasModified: <span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_property" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#abe7fad0a7df96f414b675b6af70f260d">TextEditorService</a>.<a class="code hl_property" href="interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_i_text_editor_service.html#a7f1a64364e1d4be381e7ec6b7c6df127">ViewModelApi</a>.Register(</div>
<div class="line">            ViewModelKey,</div>
<div class="line">            ResourceUri,</div>
<div class="line">            <span class="keyword">new</span> <a class="code hl_property" href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#ab53dfba5ef40ddaeca4b8982ea420fd1">Category</a>(<span class="stringliteral">&quot;main&quot;</span>));</div>
<div class="line"> </div>
<div class="line">        base.OnInitialized();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_html_a435ccef09e2ba83022e8cf378fc0f690"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#a435ccef09e2ba83022e8cf378fc0f690">Luthetus.TextEditor.RazorLib.TextEditors.Models.ResourceUri</a></div><div class="ttdeci">ResourceUri ResourceUri</div><div class="ttdoc">The unique identifier for a TextEditorModel. The model is to say a representation of the file on a fi...</div><div class="ttdef"><b>Definition</b> <a href="_text_editor_view_model_8cs_source.html#l00097">TextEditorViewModel.cs:97</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_html_abe7fad0a7df96f414b675b6af70f260d"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#abe7fad0a7df96f414b675b6af70f260d">Luthetus.TextEditor.RazorLib.TextEditors.Models.TextEditorService</a></div><div class="ttdeci">ITextEditorService TextEditorService</div><div class="ttdoc">Most API invocation (if not all) occurs through the ITextEditorService.</div><div class="ttdef"><b>Definition</b> <a href="_text_editor_view_model_8cs_source.html#l00101">TextEditorViewModel.cs:101</a></div></div>
<div class="ttc" id="anamespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models_html_af610e3ee35a4bcf6e9fb84479d570b95"><div class="ttname"><a href="namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_text_editors_1_1_models.html#af610e3ee35a4bcf6e9fb84479d570b95">Luthetus.TextEditor.RazorLib.TextEditors.Models.ViewModelKey</a></div><div class="ttdeci">Key&lt; TextEditorViewModel &gt; ViewModelKey</div><div class="ttdoc">The main unique identifier for a TextEditorViewModel, used in many API.</div><div class="ttdef"><b>Definition</b> <a href="_text_editor_view_model_8cs_source.html#l00092">TextEditorViewModel.cs:92</a></div></div>
</div><!-- fragment --><ul>
<li>Now you should have a Text Editor with the CSharpCompilerService as shown in this GIF:</li>
</ul>
<p><img src="../../Images/TextEditor/Gifs/text-editor-tutorial-result.gif" alt="tutorial_Usage-CSharpCompilerServiceTextEditor.gif" class="inline"/></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md208"></a>
Next tutorial: #TODO: Continue</h1>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
