\doxysection{Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Implementations.\+Scope Struct Reference}
\hypertarget{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope}{}\label{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope}\index{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}}


Inheritance diagram for Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Implementations.\+Scope\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=295pt]{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Implementations.\+Scope\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=295pt]{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a0a81c1613fa7267249d0329e2a488d24}{Scope}} (\mbox{\hyperlink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_nodes_1_1_fbb89b74d57a0670c22846a0a2d85ed6}{ICode\+Block\+Owner}} code\+Block\+Owner, int index\+Key, int? parent\+Index\+Key, int starting\+Index\+Inclusive, int? ending\+Index\+Exclusive)
\end{DoxyCompactItemize}
\doxysubsubsection*{Properties}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_nodes_1_1_fbb89b74d57a0670c22846a0a2d85ed6}{ICode\+Block\+Owner}} \mbox{\hyperlink{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a987feea04974b183f1e6d4dcf04894de}{Code\+Block\+Owner}}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\begin{DoxyCompactList}\small\item\em This is believed to be far better than a \doxylink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_i_syntax_node}{ISyntax\+Node} having a pointer to its parent. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a04a947ddeab9d6ca90394113f40afd78}{Index\+Key}}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\begin{DoxyCompactList}\small\item\em All scopes in a file are stored in a flat list, grouped by the Resource\+Uri they were found in. Everytime a scope is instantiated, it gets an incrementing counter as its Index\+Key (which is equal to the index it was inserted at... \textquotesingle{}list.\+Count\textquotesingle{}). \end{DoxyCompactList}\item 
int? \mbox{\hyperlink{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_aebbd763d50ce5b2f6d2d4231a270f718}{Parent\+Index\+Key}}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\item 
int \mbox{\hyperlink{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_aed1dfed81e67665c03b198b28a64469f}{Starting\+Index\+Inclusive}}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\item 
int? \mbox{\hyperlink{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a9596716656a60b22ba986b427319b22a}{Ending\+Index\+Exclusive}}\hspace{0.3cm}{\ttfamily  \mbox{[}get, set\mbox{]}}
\begin{DoxyCompactList}\small\item\em Beware of this property\textquotesingle{}s setter, as a hack to set the ending index later on in this type\textquotesingle{}s lifecycle because it isn\textquotesingle{}t immediately known. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{_scope_8cs_source_l00008}{8}} of file \mbox{\hyperlink{_scope_8cs_source}{Scope.\+cs}}.



\label{doc-constructors}
\Hypertarget{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a0a81c1613fa7267249d0329e2a488d24}\index{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}!Scope@{Scope}}
\index{Scope@{Scope}!Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}}
\doxysubsubsection{\texorpdfstring{Scope()}{Scope()}}
{\footnotesize\ttfamily \label{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a0a81c1613fa7267249d0329e2a488d24} 
Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Implementations.\+Scope.\+Scope (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_nodes_1_1_fbb89b74d57a0670c22846a0a2d85ed6}{ICode\+Block\+Owner}}}]{code\+Block\+Owner}{, }\item[{int}]{index\+Key}{, }\item[{int?}]{parent\+Index\+Key}{, }\item[{int}]{starting\+Index\+Inclusive}{, }\item[{int?}]{ending\+Index\+Exclusive}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_scope_8cs_source_l00010}{10}} of file \mbox{\hyperlink{_scope_8cs_source}{Scope.\+cs}}.



\label{doc-property-members}
\Hypertarget{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_doc-property-members}
\doxysubsection{Property Documentation}
\Hypertarget{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a987feea04974b183f1e6d4dcf04894de}\index{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}!CodeBlockOwner@{CodeBlockOwner}}
\index{CodeBlockOwner@{CodeBlockOwner}!Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}}
\doxysubsubsection{\texorpdfstring{CodeBlockOwner}{CodeBlockOwner}}
{\footnotesize\ttfamily \label{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a987feea04974b183f1e6d4dcf04894de} 
\mbox{\hyperlink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_nodes_1_1_fbb89b74d57a0670c22846a0a2d85ed6}{ICode\+Block\+Owner}} Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Implementations.\+Scope.\+Code\+Block\+Owner\hspace{0.3cm}{\ttfamily [get]}}



This is believed to be far better than a \doxylink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_i_syntax_node}{ISyntax\+Node} having a pointer to its parent. 

(i.\+e.\+: with this the \doxylink{namespace_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_nodes}{Nodes} can be left as a singly linked tree.)

Then, one can query the IBinder to determine what the active scope is given a position\+Index within a file, or etc...

This scope struct then acts as an index into the compilation unit\textquotesingle{}s node tree.

If a scope contains 100 nodes, then 100 pointers would have previously been needed due to 1 per node.

By having the \textquotesingle{}\doxylink{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope}{Scope}\textquotesingle{} contain a pointer to a node, the same example only requires 1 pointer to the node that created the scope.

From there, traversal down the tree is done with \doxylink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_syntax_1_1_i_syntax_node_a73d81f1c4e42db7e80bfdd4db97c10fe}{ISyntax\+Node.\+Get\+Child\+List()};

Traversal up the tree is done by reading from the IBinder\+Session inside the IBinder\+Session.\+Scope\+List at index \doxylink{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_aebbd763d50ce5b2f6d2d4231a270f718}{Parent\+Index\+Key}.

This tells you the node that owns the parent scope.

If it turns out that this is too cumbersome to use in practice then perhaps a different solution should be considered. 

Implements \mbox{\hyperlink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_scope_ac864a69c5039a944689ef6e02d803e3a}{Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Interfaces.\+IScope}}.



Definition at line \mbox{\hyperlink{_scope_8cs_source_l00024}{24}} of file \mbox{\hyperlink{_scope_8cs_source}{Scope.\+cs}}.

\Hypertarget{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a9596716656a60b22ba986b427319b22a}\index{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}!EndingIndexExclusive@{EndingIndexExclusive}}
\index{EndingIndexExclusive@{EndingIndexExclusive}!Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}}
\doxysubsubsection{\texorpdfstring{EndingIndexExclusive}{EndingIndexExclusive}}
{\footnotesize\ttfamily \label{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a9596716656a60b22ba986b427319b22a} 
int? Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Implementations.\+Scope.\+Ending\+Index\+Exclusive\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [set]}}



Beware of this property\textquotesingle{}s setter, as a hack to set the ending index later on in this type\textquotesingle{}s lifecycle because it isn\textquotesingle{}t immediately known. 



Implements \mbox{\hyperlink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_scope_a3aafa57351a91d8b8be8f76045501186}{Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Interfaces.\+IScope}}.



Definition at line \mbox{\hyperlink{_scope_8cs_source_l00028}{28}} of file \mbox{\hyperlink{_scope_8cs_source}{Scope.\+cs}}.

\Hypertarget{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a04a947ddeab9d6ca90394113f40afd78}\index{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}!IndexKey@{IndexKey}}
\index{IndexKey@{IndexKey}!Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}}
\doxysubsubsection{\texorpdfstring{IndexKey}{IndexKey}}
{\footnotesize\ttfamily \label{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_a04a947ddeab9d6ca90394113f40afd78} 
int Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Implementations.\+Scope.\+Index\+Key\hspace{0.3cm}{\ttfamily [get]}}



All scopes in a file are stored in a flat list, grouped by the Resource\+Uri they were found in. Everytime a scope is instantiated, it gets an incrementing counter as its Index\+Key (which is equal to the index it was inserted at... \textquotesingle{}list.\+Count\textquotesingle{}). 

Therefore, to go to the parent scope\+: \textquotesingle{}var parent\+Scope = list\mbox{[}Parent\+Index\+Key\mbox{]}\textquotesingle{} To get "{}yourself"{}\+: \textquotesingle{}var self\+Scope = list\mbox{[}Index\+Key\mbox{]}\textquotesingle{}

Every time the file is parsed the counter resets to 0.

In the future there should be optimizations that don\textquotesingle{}t reparse the entire file, but instead only the scopes that need to be re-\/parsed given the change made.

This shouldn\textquotesingle{}t be an issue beyond integer overflow. And to in the future solve the integer overflow, in the rare case that someone parses int.\+Max\+Value number of scopes in a singular C\# Resource\+Uri they likely don\textquotesingle{}t actually have that many scopes in the file, but instead hit that number due to the future optimization that wasn\textquotesingle{}t reseting the counter. Then that would trigger a counter reset to 0, and the entire file would have to be reparsed for that edge case.

If a file needs int.\+Max\+Value number of scopes during a fresh parse with the counter starting at 0, then I presume this code will throw an exception.

But wouldn\textquotesingle{}t it just the same do so with the previous code once the list of scopes hit a count \texorpdfstring{$>$}{>} int.\+Max\+Value?

If it turns out that int.\+Max\+Value is an issue, the storage of scopes needs to be re-\/worked. But it isn\textquotesingle{}t expected to be the case.

Side note\+: in order to avoid race conditions involving out dated data, should the list itself have an int associated with it, that the \doxylink{_i_scope_8cs}{IScope.\+cs} has as a property, so it can verify that the "{}batch id"{} is the same. 

Implements \mbox{\hyperlink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_scope_a61522fba59477beb1f3cafe27c43cb9c}{Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Interfaces.\+IScope}}.



Definition at line \mbox{\hyperlink{_scope_8cs_source_l00025}{25}} of file \mbox{\hyperlink{_scope_8cs_source}{Scope.\+cs}}.

\Hypertarget{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_aebbd763d50ce5b2f6d2d4231a270f718}\index{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}!ParentIndexKey@{ParentIndexKey}}
\index{ParentIndexKey@{ParentIndexKey}!Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}}
\doxysubsubsection{\texorpdfstring{ParentIndexKey}{ParentIndexKey}}
{\footnotesize\ttfamily \label{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_aebbd763d50ce5b2f6d2d4231a270f718} 
int? Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Implementations.\+Scope.\+Parent\+Index\+Key\hspace{0.3cm}{\ttfamily [get]}}







Implements \mbox{\hyperlink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_scope_abfaa5ee6ee4ef26f6072fc309d244d71}{Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Interfaces.\+IScope}}.



Definition at line \mbox{\hyperlink{_scope_8cs_source_l00026}{26}} of file \mbox{\hyperlink{_scope_8cs_source}{Scope.\+cs}}.

\Hypertarget{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_aed1dfed81e67665c03b198b28a64469f}\index{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}!StartingIndexInclusive@{StartingIndexInclusive}}
\index{StartingIndexInclusive@{StartingIndexInclusive}!Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope@{Luthetus.TextEditor.RazorLib.CompilerServices.Implementations.Scope}}
\doxysubsubsection{\texorpdfstring{StartingIndexInclusive}{StartingIndexInclusive}}
{\footnotesize\ttfamily \label{struct_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_implementations_1_1_scope_aed1dfed81e67665c03b198b28a64469f} 
int Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Implementations.\+Scope.\+Starting\+Index\+Inclusive\hspace{0.3cm}{\ttfamily [get]}}



Implements \mbox{\hyperlink{interface_luthetus_1_1_text_editor_1_1_razor_lib_1_1_compiler_services_1_1_interfaces_1_1_i_scope_a7e7db70d787bcdb4c9ffd3d5f11f9ca4}{Luthetus.\+Text\+Editor.\+Razor\+Lib.\+Compiler\+Services.\+Interfaces.\+IScope}}.



Definition at line \mbox{\hyperlink{_scope_8cs_source_l00027}{27}} of file \mbox{\hyperlink{_scope_8cs_source}{Scope.\+cs}}.



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Source/\+Lib/\+Text\+Editor/\+Compiler\+Services/\+Implementations/\mbox{\hyperlink{_scope_8cs}{Scope.\+cs}}\end{DoxyCompactItemize}
